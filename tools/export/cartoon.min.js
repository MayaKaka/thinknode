define("Class",[],function(){var b=function(){},a=false,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;b.extend=function(g){var f=this,e=this.prototype,i=function(){if(!a&&this.init){this.init.apply(this,arguments)}};if(f!==b){a=true;i.prototype=new f()}a=false;var h=i.prototype;for(var d in g){h[d]=(typeof(e[d])==="function"&&typeof(g[d])==="function"&&c.test(g[d]))?(function(j,k){return function(){var m=this._super;this._super=e[j];var l=k.apply(this,arguments);this._super=m;return l}})(d,g[d]):g[d]}i.extend=arguments.callee;return i};return b});define("Ticker",["require","exports","module","Class"],function(c,b,d){var a=c("Class");var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout;var f=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;var e=a.extend({fps:-1,_paused:true,_timer:null,_interval:-1,_targets:null,_useAnimationFrame:false,init:function(h,i){this.fps=0;this._interval=h||(1000/60).toFixed(2);this._targets=[];if(i===undefined||i==="auto"||i===true){this._useAnimationFrame=g!==window.setTimeout}},isActive:function(){return !this._paused},start:function(){this._clearTimer();this._paused=false;this._setTimer()},stop:function(){this._paused=true},has:function(m){var k=this._targets,h=k.length;for(var j=h-1;j>=0;j--){if(k[j]===m){return true}}return false},add:function(h){if(!this.has(h)){if(h._ticker){h._ticker.remove(h)}if(h.update instanceof Function){h._ticker=this}this._targets.push(h)}},remove:function(m){var k=this._targets,h=k.length;for(var j=h-1;j>=0;j--){if(k[j]===m){if(m._ticker){m._ticker=null}k.splice(j,1);break}}},removeAll:function(){this._targets=[]},_clearTimer:function(){if(this._timer){var h=this._useAnimationFrame?f:window.clearTimeout;h(this._timer);this._timer=null}},_setTimer:function(){var w=this;var v=0,j=0,u=0,r=0,m=0,s=0,o=[],l=0;var p=w._interval,k=(p-1)*0.97,n=w._useAnimationFrame,i=n?g:window.setTimeout;var h=function(){if(!n){return true}if(m===0){m=new Date().getTime();return true}else{r=new Date().getTime();s=r-m;if(s>k){m=r;return true}}return false};var q=function(){if(j===0){j=new Date().getTime()}else{v=new Date().getTime();u=v-j;j=v;o.push(u);if(o.length===5){for(var y=0,x=o.length;y<x;y++){l+=o[y]}w.fps=Math.floor(5000/l);o=[];l=0}}w._exec(u)};var t=function(){if(h()){q()}w._clearTimer();if(!w._paused&&!e._destroyed){w._timer=i(t,p)}};t()},_exec:function(n){var j=this._targets,m;for(var k=0,h=j.length;k<h;k++){if(this._paused||e._destroyed){break}m=j[k];if(m.update instanceof Function){m.update(n)}else{if(m instanceof Function){m(n)}}}}});e._destroyed=false;e.destroy=function(){this._destroyed=true};return e});define("EventDispatcher",["require","exports","module","Class"],function(c,b,d){var a=c("Class");var e=a.extend({_listeners:null,on:function(g,f){this.addEventListener(g,f)},off:function(g,f){this.removeEventListener(g,f)},trigger:function(f){this.dispatchEvent(f)},addEventListener:function(j,h){var f=this.getEventListener(j);for(var g=f.length-1;g>=0;g--){if(f[g]===h){f.splice(g,1);break}}f.push(h)},removeEventListener:function(j,h){var f=this.getEventListener(j);for(var g=f.length-1;g>=0;g--){if(f[g]===h){f.splice(g,1);break}}},dispatchEvent:function(h){var f=this.getEventListener(h.type);for(var j=0,g=f.length;j<g;j++){f[j].call(this,h)}},getEventListener:function(f){if(!this._listeners){this._listeners={}}if(!this._listeners[f]){this._listeners[f]=[]}return this._listeners[f]}});return e});define("PrivateData",["require","exports","module","Class"],function(d,c,e){var b=d("Class");var a=b.extend({_data:null,init:function(){this._data={}},get:function(f){return this._data[f]},set:function(f,g){this._data[f]=g;return g}});return a});define("StyleSheet",["require","exports","module"],function(d,g,a){var b=document.createElement("div").style,j=b.transform===""||b.webkitTransform===""||b.msTransform===""||b.MozTransform==="",l=j?false:b.filter==="",c=navigator.userAgent.indexOf("MSIE 9.0")>0,i=b.webkitTransform===""?"webkit":b.WebkitTransform===""?"Webkit":b.msTransform===""?"ms":b.MozTransform===""?"Moz":"";var h=function(){};h.has=function(o){return !!h.styles[o]};h.init=function(q,o){var p=h.styles[o];if(p&&p.init){return p.init(q,o)}};h.get=function(q,o){var p=h.styles[o];if(p){return p.get(q,o)}};h.set=function(r,o,q){var p=h.styles[o];if(p){p.set(r,o,q)}};h.step=function(r,o,q){var p=h.styles[o];if(p&&p.step){p.step(r,o,q)}};var e=function(p,o){return p[o]};var m=function(q,o,p){q[o]=p};var n=function(p,o,q){var r=o.charAt(0).toUpperCase()+o.substring(1,o.length);p[i+r]=q};var f=function(s,q,r){var u=r.start,p=r.end,t=r.pos;var o=(p-u)*t+u;s.style(q,o)};var k=function(t,r,s){var v=s.start,p=s.end,u=s.pos,o={};for(var q in p){o[q]=(p[q]-v[q])*u+v[q]}t.style(r,o)};h.styles={x:{get:e,set:function(r,o,q){m(r,o,q);if(r.renderMode===0){var p=r.elemStyle;p.position="absolute";p.left=q+"px"}},step:f},y:{get:e,set:function(r,o,q){m(r,o,q);if(r.renderMode===0){var p=r.elemStyle;p.position="absolute";p.top=q+"px"}},step:f},z:{get:e,set:function(q,o,p){m(q,o,p);q.style("transform3d",{perspective:p})},step:f},pos:{get:function(p,o){return{x:p.x,y:p.y}},set:function(r,o,q){if(q.x!==undefined){r.x=q.x}if(q.y!==undefined){r.y=q.y}if(r.renderMode===0){var p=r.elemStyle;p.position="absolute";p.left=r.x+"px";p.top=r.y+"px"}},step:k},width:{get:e,set:function(q,o,p){m(q,o,p);if(q.renderMode===0){if(q._useElemSize){q.elem.width=p}else{q.elemStyle.width=p+"px"}}},step:f},height:{get:e,set:function(q,o,p){m(q,o,p);if(q.renderMode===0){if(q._useElemSize){q.elem.height=p}else{q.elemStyle.height=p+"px"}}},step:f},size:{get:function(p,o){return{width:p.width,height:p.height}},set:function(s,o,r){if(r.width!==undefined){s.width=r.width}if(r.height!==undefined){s.height=r.height}if(s.renderMode===0){if(s._useElemSize){var q=s.elem;q.width=s.width;q.height=s.height}else{var p=s.elemStyle;p.width=s.width+"px";p.height=s.height+"px"}}},step:k},transform:{init:function(p,o){if(!p.transform){p.transform={translateX:0,translateY:0,rotate:0,scale:1,scaleX:1,scaleY:1,skewX:0,skewY:0,originX:0.5,originY:0.5}}return p.transform},get:function(p,o){return h.init(p,o)},set:function(t,w,v){var s=h.init(t,w);for(var r in v){t._updateTransform(r,v[r])}if(t.renderMode===0){var o=t.elemStyle;if(l){var q=t.elem,p=o.filter,y=/Matrix([^)]*)/,u=t._updateMatrix2D(true),x=["Matrix(M11="+u.a,"M12="+u.b,"M21="+u.c,"M22="+u.d,"SizingMethod='auto expand'"].join(",");o.filter=p.match(y)?p.replace(y,x):("progid:DXImageTransform.Microsoft."+x+") "+p);o.marginLeft=s.translateX+(q.clientWidth-q.offsetWidth)*s.originX+"px";o.marginTop=s.translateY+(q.clientHeight-q.offsetHeight)*s.originY+"px"}else{n(o,"transform",t._mergeTransformText(s));if("origin" in v||"originX" in v||"originY" in v){n(o,"transformOrigin",s.originX*100+"% "+s.originY*100+"%")}}}},step:k},transform3d:{init:function(p,o){if(!p.transform3d){p.transform3d={perspective:0,translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scaleX:1,scaleY:1,scaleZ:1,originX:0.5,originY:0.5,originZ:0.5}}return p.transform3d},get:function(p,o){return h.init(p,o)},set:function(s,p,r){var t=h.init(s,p);for(var o in r){s._updateTransform3D(o,r[o])}if(s.renderMode===0){var q=s.elemStyle;n(q,"transformStyle","preserve-3d");n(q,"backfaceVisibility","visible");n(q,"transform",s._mergeTransform3DText(t));if("originX" in r||"originY" in r||"originZ" in r){n(q,"transformOrigin",t.originX*100+"% "+t.originY*100+"%")}}},step:k},visible:{get:e,set:function(q,o,p){m(q,o,p);if(q.renderMode===0){q.elemStyle.display=p?"block":"none"}}},overflow:{get:e,set:function(q,o,p){m(q,o,p);if(!q.renderMode){q.elemStyle.overflow=p}}},alpha:{get:e,set:function(u,q,t){m(u,q,t);if(u.renderMode===0){var s=u.elemStyle;if(l){var r=s.filter,o=/alpha\(opacity=([^)]*)/,p="alpha(opacity="+t*100;s.filter=r.match(o)?r.replace(o,p):(r+" "+p+")")}else{s.opacity=t}}},step:f},shadow:{get:e,set:function(q,o,p){if(typeof(p)==="string"){p=p.split("px ");p={offsetX:parseFloat(p[0]),offsetY:parseFloat(p[1]),blur:parseFloat(p[2]),color:p[3]}}m(q,o,p);if(q.renderMode===0){q.elemStyle.boxShadow=p.offsetX+"px "+p.offsetY+"px "+p.blur+"px "+p.color}},step:k},fill:{get:function(p,o){return p.fillColor||p.fillGradient||p.fillImage},set:function(q,o,p){if(p.match(/^\#|^rgb|^rgba|black|red|green|blue|yellow|orange|pink|purple|gray/)){q.style("fillColor",p)}else{if(p.match(/^top|^right|^bottom|^left|^center/)){q.style("fillGradient",p)}else{if(p.match(/\.jpg$|\.png$|\.gif$/)){q.style("fillImage",p)}}}},step:function(r,o,p){var q=p.end;if(q.match(/^\#|^rgb|^rgba|black|red|green|blue|yellow|orange|pink|purple|gray/)){r._stepStyle("fillColor",p)}else{if(q.match(/^top|^right|^bottom|^left|^center/)){r._stepStyle("fillGradient",p)}}}},fillColor:{get:e,set:function(q,o,p){q.fillGradient=q.fillImage=null;m(q,o,p);if(q.renderMode===0){q.elemStyle.backgroundColor=p;q.elemStyle.backgroundImage=""}},step:function(t,r,s){var v=h.toRGBA(s.start),p=h.toRGBA(s.end),u=s.pos,o={};for(var q in p){o[q]=Math.floor((p[q]-v[q])*u+v[q])}t.style(r,h.toColor(o))}},fillGradient:{get:e,set:function(u,p,t){u.fillColor=u.fillImage=null;if(typeof(t)==="string"){t=h.toGradient(t)}m(u,p,t);if(u.renderMode===0){var s=u.elemStyle,r;if(l||c){var q=s.filter,o=/gradient([^)]*)/;r="gradient(GradientType=0,startColorstr='"+t[1]+"', endColorstr='"+t[2]+"'";s.filter=q.match(o)?q.replace(o,r):(q+" progid:DXImageTransform.Microsoft."+r+")")}else{if(t[0]==="center"){r="radial-gradient(circle,"+t[1]+","+t[2]+")"}else{r="linear-gradient("+t[0]+","+t[1]+","+t[2]+")"}s.backgroundImage="-webkit-"+r;s.backgroundImage="-ms-"+r;s.backgroundImage="-moz-"+r}}},step:function(t,q,r){var v=r.start,p=r.end,p=typeof(p)==="string"?h.toGradient(p):p,u=r.pos,o=[p[0]];var s=function(A,z,w){z=h.toRGBA(z);w=h.toRGBA(w);var x={};for(var y in w){x[y]=Math.floor((w[y]-z[y])*A+z[y])}return h.toColor(x)};o.push(s(u,v[1],p[1]));o.push(s(u,v[2],p[2]));t.style(q,o)}},fillImage:{get:e,set:function(r,o,p){r.fillColor=r.fillGradient=null;if(r.renderMode===0){r.elemStyle.backgroundImage="url("+p+")"}else{var q=new Image();q.src=p;p=q}m(r,o,p)}},stroke:{get:function(p,o){return p.strokeColor},set:function(q,o,p){q.style("strokeColor",p)},step:function(q,o,p){q._stepStyle("strokeColor",p)}},strokeColor:{get:e,set:function(q,o,p){m(q,o,p);if(q.renderMode===0){q.elemStyle.border="1px solid "+p}},step:function(t,r,s){var v=h.toRGBA(s.start),p=h.toRGBA(s.end),u=s.pos,o={};for(var q in p){o[q]=Math.floor((p[q]-v[q])*u+v[q])}t.style(r,h.toColor(o))}},lineWidth:{get:e,set:function(q,o,p){m(q,o,p);if(q.renderMode===0){q.elemStyle.borderWidth=p+"px"}},step:f},radius:{get:e,set:function(r,o,q){m(r,o,q);r.width=r.height=q*2;if(r.renderMode===0){var p=r.elemStyle;p.borderRadius="50%";p.width=p.height=r.width+"px"}},step:f},radiusXY:{get:function(p,o){return{radiusX:p.radiusX,radiusY:p.radiusY}},set:function(r,o,q){r.radiusX=q.radiusX;r.radiusY=q.radiusY;r.width=r.radiusX*2;r.height=r.radiusY*2;if(r.renderMode===0){var p=r.elemStyle;p.borderRadius="50%";p.width=r.width+"px";p.height=r.height+"px"}}},angle:{get:e,set:m,step:f}};h.toRGBA=function(o){var p={r:0,g:0,b:0,a:1};if(o.indexOf("rgb")>-1){o=o.replace(/rgb\(|rgba\(|\)/g,"");o=o.split(",");p.r=parseInt(o[0]);p.g=parseInt(o[1]);p.b=parseInt(o[2]);if(o.length===4){p.a=o[3]}}else{if(o.indexOf("#")>-1){if(o.length===4){p.r=o.substring(1,2);p.g=o.substring(2,3);p.b=o.substring(3,4);p.r=parseInt(p.r+p.r,16);p.g=parseInt(p.g+p.g,16);p.b=parseInt(p.b+p.b,16)}else{p.r=parseInt(o.substring(1,3),16);p.g=parseInt(o.substring(3,5),16);p.b=parseInt(o.substring(5,7),16)}}}return p};h.toColor=function(p){var s=p.r.toString(16),q=p.g.toString(16),o=p.b.toString(16);if(s.length===1){s="0"+s}if(q.length===1){q="0"+q}if(o.length===1){o="0"+o}return"#"+s+q+o};h.toGradient=function(q){q=q.split(/\,#|\,rgb/);for(var p=1,o=q.length;p<o;p++){q[p]=(q[p].indexOf("(")>-1?"rgb":"#")+q[p]}return q};if(jQuery){jQuery.extend(jQuery.fx.step,{backgroundColor:function(t){var s=t.elem,v=h.toRGBA(t.start),p=h.toRGBA(t.end),u=t.pos;var o={},r=s.style;for(var q in p){o[q]=Math.floor((p[q]-v[q])*u+v[q])}r.backgroundColor=h.toColor(o)}})}return h});define("Matrix2D",["require","exports","module"],function(b,a,c){var e=function(i,g,k,j,h,f){this.initialize(i,g,k,j,h,f)};var d=e.prototype;e.identity=null;e.DEG_TO_RAD=Math.PI/180;d.a=1;d.b=0;d.c=0;d.d=1;d.tx=0;d.ty=0;d.alpha=1;d.shadow=null;d.compositeOperation=null;d.visible=true;d.initialize=function(i,g,k,j,h,f){this.a=(i==null)?1:i;this.b=g||0;this.c=k||0;this.d=(j==null)?1:j;this.tx=h||0;this.ty=f||0;return this};d.prepend=function(n,m,l,k,j,h){var g=this.tx;if(n!=1||m!=0||l!=0||k!=1){var f=this.a;var i=this.c;this.a=f*n+this.b*l;this.b=f*m+this.b*k;this.c=i*n+this.d*l;this.d=i*m+this.d*k}this.tx=g*n+this.ty*l+j;this.ty=g*m+this.ty*k+h;return this};d.append=function(o,m,l,k,j,h){var g=this.a;var n=this.b;var i=this.c;var f=this.d;this.a=o*g+m*i;this.b=o*n+m*f;this.c=l*g+k*i;this.d=l*n+k*f;this.tx=j*g+h*i+this.tx;this.ty=j*n+h*f+this.ty;return this};d.prependMatrix=function(f){this.prepend(f.a,f.b,f.c,f.d,f.tx,f.ty);return this};d.appendMatrix=function(f){this.append(f.a,f.b,f.c,f.d,f.tx,f.ty);return this};d.prependTransform=function(l,j,o,n,q,m,k,h,g){if(q%360){var f=q*e.DEG_TO_RAD;var p=Math.cos(f);var i=Math.sin(f)}else{p=1;i=0}if(h||g){this.tx-=h;this.ty-=g}if(m||k){m*=e.DEG_TO_RAD;k*=e.DEG_TO_RAD;this.prepend(p*o,i*o,-i*n,p*n,0,0);this.prepend(Math.cos(k),Math.sin(k),-Math.sin(m),Math.cos(m),l,j)}else{this.prepend(p*o,i*o,-i*n,p*n,l,j)}return this};d.appendTransform=function(l,j,o,n,q,m,k,h,g){if(q%360){var f=q*e.DEG_TO_RAD;var p=Math.cos(f);var i=Math.sin(f)}else{p=1;i=0}if(m||k){m*=e.DEG_TO_RAD;k*=e.DEG_TO_RAD;this.append(Math.cos(k),Math.sin(k),-Math.sin(m),Math.cos(m),l,j);this.append(p*o,i*o,-i*n,p*n,0,0)}else{this.append(p*o,i*o,-i*n,p*n,l,j)}if(h||g){this.tx-=h*this.a+g*this.c;this.ty-=h*this.b+g*this.d}return this};d.rotate=function(k){var j=Math.cos(k);var h=Math.sin(k);var g=this.a;var i=this.c;var f=this.tx;this.a=g*j-this.b*h;this.b=g*h+this.b*j;this.c=i*j-this.d*h;this.d=i*h+this.d*j;this.tx=f*j-this.ty*h;this.ty=f*h+this.ty*j;return this};d.skew=function(g,f){g=g*e.DEG_TO_RAD;f=f*e.DEG_TO_RAD;this.append(Math.cos(f),Math.sin(f),-Math.sin(g),Math.cos(g),0,0);return this};d.scale=function(f,g){this.a*=f;this.d*=g;this.c*=f;this.b*=g;this.tx*=f;this.ty*=g;return this};d.translate=function(f,g){this.tx+=f;this.ty+=g;return this};d.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};d.invert=function(){var g=this.a;var h=this.b;var i=this.c;var j=this.d;var f=this.tx;var k=g*j-h*i;this.a=j/k;this.b=-h/k;this.c=-i/k;this.d=g/k;this.tx=(i*this.ty-j*f)/k;this.ty=-(g*this.ty-h*f)/k;return this};d.isIdentity=function(){return this.tx==0&&this.ty==0&&this.a==1&&this.b==0&&this.c==0&&this.d==1};d.transformPoint=function(f,h,g){g=g||{};g.x=f*this.a+h*this.c+this.tx;g.y=f*this.b+h*this.d+this.ty;return g};d.decompose=function(h){if(h==null){h={}}h.x=this.tx;h.y=this.ty;h.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);h.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var g=Math.atan2(-this.c,this.d);var f=Math.atan2(this.b,this.a);if(g==f){h.rotation=f/e.DEG_TO_RAD;if(this.a<0&&this.d>=0){h.rotation+=(h.rotation<=0)?180:-180}h.skewX=h.skewY=0}else{h.skewX=g/e.DEG_TO_RAD;h.skewY=f/e.DEG_TO_RAD}return h};d.reinitialize=function(n,m,l,k,i,h,g,o,j,f){this.initialize(n,m,l,k,i,h);this.alpha=g==null?1:g;this.shadow=o;this.compositeOperation=j;this.visible=f==null?true:f;return this};d.copy=function(f){return this.reinitialize(f.a,f.b,f.c,f.d,f.tx,f.ty,f.alpha,f.shadow,f.compositeOperation,f.visible)};d.appendProperties=function(g,i,f,h){this.alpha*=g;this.shadow=i||this.shadow;this.compositeOperation=f||this.compositeOperation;this.visible=this.visible&&h;return this};d.prependProperties=function(g,i,f,h){this.alpha*=g;this.shadow=this.shadow||i;this.compositeOperation=this.compositeOperation||f;this.visible=this.visible&&h;return this};d.clone=function(){return(new e()).copy(this)};d.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};e.identity=new e();return e});define("Ease",["require","exports","module"],function(b,a,c){var d=function(){};d.get=function(f){return e[f]||e.linear};var e={linear:function(f){return f},swing:function(f){return 0.5-Math.cos(f*Math.PI)/2},easeInQuad:function(g,h,f,j,i){return j*(h/=i)*h+f},easeOutQuad:function(g,h,f,j,i){return -j*(h/=i)*(h-2)+f},easeInOutQuad:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h+f}return -j/2*((--h)*(h-2)-1)+f},easeInCubic:function(g,h,f,j,i){return j*(h/=i)*h*h+f},easeOutCubic:function(g,h,f,j,i){return j*((h=h/i-1)*h*h+1)+f},easeInOutCubic:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h+f}return j/2*((h-=2)*h*h+2)+f},easeInQuart:function(g,h,f,j,i){return j*(h/=i)*h*h*h+f},easeOutQuart:function(g,h,f,j,i){return -j*((h=h/i-1)*h*h*h-1)+f},easeInOutQuart:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h+f}return -j/2*((h-=2)*h*h*h-2)+f},easeInQuint:function(g,h,f,j,i){return j*(h/=i)*h*h*h*h+f},easeOutQuint:function(g,h,f,j,i){return j*((h=h/i-1)*h*h*h*h+1)+f},easeInOutQuint:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h*h+f}return j/2*((h-=2)*h*h*h*h+2)+f},easeInSine:function(g,h,f,j,i){return -j*Math.cos(h/i*(Math.PI/2))+j+f},easeOutSine:function(g,h,f,j,i){return j*Math.sin(h/i*(Math.PI/2))+f},easeInOutSine:function(g,h,f,j,i){return -j/2*(Math.cos(Math.PI*h/i)-1)+f},easeInExpo:function(g,h,f,j,i){return(h==0)?f:j*Math.pow(2,10*(h/i-1))+f},easeOutExpo:function(g,h,f,j,i){return(h==i)?f+j:j*(-Math.pow(2,-10*h/i)+1)+f},easeInOutExpo:function(g,h,f,j,i){if(h==0){return f}if(h==i){return f+j}if((h/=i/2)<1){return j/2*Math.pow(2,10*(h-1))+f}return j/2*(-Math.pow(2,-10*--h)+2)+f},easeInCirc:function(g,h,f,j,i){return -j*(Math.sqrt(1-(h/=i)*h)-1)+f},easeOutCirc:function(g,h,f,j,i){return j*Math.sqrt(1-(h=h/i-1)*h)+f},easeInOutCirc:function(g,h,f,j,i){if((h/=i/2)<1){return -j/2*(Math.sqrt(1-h*h)-1)+f}return j/2*(Math.sqrt(1-(h-=2)*h)+1)+f},easeInElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return -(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f},easeOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return h*Math.pow(2,-10*i)*Math.sin((i*l-j)*(2*Math.PI)/k)+m+f},easeInOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l/2)==2){return f+m}if(!k){k=l*(0.3*1.5)}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}if(i<1){return -0.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f}return h*Math.pow(2,-10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k)*0.5+m+f},easeInBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*(h/=j)*h*((i+1)*h-i)+f},easeOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*((h=h/j-1)*h*((i+1)*h+i)+1)+f},easeInOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}if((h/=j/2)<1){return k/2*(h*h*(((i*=(1.525))+1)*h-i))+f}return k/2*((h-=2)*h*(((i*=(1.525))+1)*h+i)+2)+f},easeInBounce:function(g,h,f,j,i){return j-e.easeOutBounce(g,i-h,0,j,i)+f},easeOutBounce:function(g,h,f,j,i){if((h/=i)<(1/2.75)){return j*(7.5625*h*h)+f}else{if(h<(2/2.75)){return j*(7.5625*(h-=(1.5/2.75))*h+0.75)+f}else{if(h<(2.5/2.75)){return j*(7.5625*(h-=(2.25/2.75))*h+0.9375)+f}else{return j*(7.5625*(h-=(2.625/2.75))*h+0.984375)+f}}}},easeInOutBounce:function(g,h,f,j,i){if(h<i/2){return e.easeInBounce(g,h*2,0,j,i)*0.5+f}return e.easeOutBounce(g,h*2-i,0,j,i)*0.5+j*0.5+f},easeIn:function(g,h,f,j,i){return e.easeInQuad(g,h,f,j,i)},easeOut:function(g,h,f,j,i){return e.easeOutQuad(g,h,f,j,i)},easeInOut:function(g,h,f,j,i){return e.easeInOutQuad(g,h,f,j,i)},expoIn:function(g,h,f,j,i){return e.easeInExpo(g,h,f,j,i)},expoOut:function(g,h,f,j,i){return e.easeOutExpo(g,h,f,j,i)},expoInOut:function(g,h,f,j,i){return e.easeInOutExpo(g,h,f,j,i)},bounceIn:function(g,h,f,j,i){return e.easeInBounce(g,h,f,j,i)},bounceOut:function(g,h,f,j,i){return e.easeOutBounce(g,h,f,j,i)},bounceInOut:function(g,h,f,j,i){return e.easeInOutBounce(g,h,f,j,i)},elasIn:function(g,h,f,j,i){return e.easeInElastic(g,h,f,j,i)},elasOut:function(g,h,f,j,i){return e.easeOutElastic(g,h,f,j,i)},elasInOut:function(g,h,f,j,i){return e.easeInOutElastic(g,h,f,j,i)},backIn:function(g,h,f,j,i){return e.easeInBack(g,h,f,j,i)},backOut:function(g,h,f,j,i){return e.easeOutBack(g,h,f,j,i)},backInOut:function(g,h,f,j,i){return e.easeInOutBack(g,h,f,j,i)}};d.easing=e;if(jQuery){jQuery.extend(jQuery.easing,e)}return d});define("Tween",["require","exports","module","Class","Ticker","Ease"],function(c,b,d){var a=c("Class"),f=c("Ticker"),e=c("Ease");var g=a.extend({pos:-1,start:null,end:null,_target:null,_options:null,_easing:null,_detlaTime:-1,_finish:false,init:function(l,k,h){this.pos=0;this.start={};for(var j in k){this.start[j]=this._clone(l.style(j))}this.end=k;this._target=l;this._options=h;this._easing=e.get(h.easing);this._detlaTime=0;g._tweens.push(this)},remove:function(){var h=this._target;h.data("fx_queue",null);h.data("fx_cur_tween",null)},update:function(o){var l=this._target,q=this._options,n=this._easing,h=q.duration,m=this._detlaTime/h;if(m>=1){this.pos=1;this._finish=true}else{if(n){this.pos=n(m,h*m,0,1,h)}else{this._detlaTime+=o;return}}for(var j in this.end){l._stepStyle(j,{pos:this.pos,start:this.start[j],end:this.end[j]})}q.step&&q.step();if(this._finish){q.callback&&q.callback();var k=l.data("fx_queue");if(k.length===0){l.data("fx_queue",null);l.data("fx_cur_tween",null)}else{var p=k.shift();p()}}else{this._detlaTime+=o}},_clone:function(j){var h;if(typeof(j)==="object"){h={};for(var k in j){h[k]=this._clone(j[k])}}else{h=j}return h}});g._tweens=[];g.update=function(m){var k=g._tweens;for(var j=k.length-1;j>=0;j--){if(k[j]._finish){k.splice(j,1)}}for(var j=0,h=k.length;j<h;j++){k[j].update(m)}};g.option=function(h,j,i){if(h&&h.duration){return h}else{return{duration:h||300,easing:j||"linear",callback:i}}};g.queue=function(m,k,l,o,n){var h=m.data("fx_queue"),j=g.option(l,o,n);if(typeof(k)==="number"){j.duration=k;j.easing="none";k={}}var i=function(){m.data("fx_cur_tween",new g(m,k,j))};if(h){h.push(i)}else{i();m.data("fx_queue",[])}};return g});define("DisplayObject",["require","exports","module","EventDispatcher","PrivateData","StyleSheet","Matrix2D","Tween"],function(c,e,a){var b=c("EventDispatcher"),d=c("PrivateData"),g=c("StyleSheet"),i=c("Matrix2D"),h=c("Tween");var j=!!document.createElement("canvas").getContext;var f=b.extend({x:0,y:0,width:0,height:0,transform:null,transform3d:null,visible:true,overflow:"visible",alpha:1,shadow:null,parent:null,elem:null,elemStyle:null,renderMode:0,blendMode:"source-over",mouseEnabled:true,_tagName:"div",_children:null,_matrix2d:null,_privateData:null,init:function(l){if(l.renderMode){this.renderMode=l.renderMode}if(this.renderMode===0){var m=l.elem;if(m&&typeof(m)==="string"){if(m.match(/^\#[A-Za-z0-9]+$/)){m=document.getElementById(m)}else{if(m.match(/^\.[A-Za-z0-9]+$/)){m=document.getElementsByClassName(m)[0]}else{m=document.querySelector(m)}}}this.elem=m||document.createElement(this._tagName);this.elem.displayObj=this;this.elemStyle=this.elem.style;if(jQuery){this.$=jQuery(this.elem)}}else{if(l.blendMode){this.blendMode=l.blendMode}}this._children=[];this._matrix2d=new i();this._privateData=new d();g.init(this,"transform");for(var k in l){if(g.has(k)){this.style(k,l[k])}}},addChild:function(k){if(k.renderMode===0){if(this.elem){this.elem.appendChild(k.elem)}}else{this._children.push(k)}k.parent=this},removeChild:function(l){if(l.renderMode===0){if(this.elem){this.elem.removeChild(l.elem)}}else{for(var k=this._children.length-1;k>=0;k--){if(this._children[k]===l){this._children.splice(k,1);break}}}l.parent=null},removeAllChildren:function(){var k=this.renderMode?this._children:this.elem.children,l;while(k.length){l=k[k.length-1];this.removeChild(this.renderMode?l:l.displayObj)}},eachChildren:function(o){var n=this.renderMode?this._children:this.elem.children,p;for(var m=0,k=n.length;m<k;m++){p=this.renderMode?n[m]:n[m].displayObj;o(p,m)}},style:function(k,l){if(l===undefined){return g.get(this,k)}else{g.set(this,k,l)}},data:function(k,l){if(l===undefined){return this._privateData.get(k)}else{this._privateData.set(k,l)}},to:function(k,l,n,m){h.queue(this,k,l,n,m);return this},draw:function(m){if(!this._children.length){return}if(this.overflow==="hidden"){}var p=this._children,o;for(var n=0,k=p.length;n<k;n++){o=p[n];if(o.visible){m.save();o._drawCanvas(m);m.restore()}}},draw3D:function(k){},cache:function(){if(j){var k=document.createElement("canvas");k.width=this.width;k.height=this.height;this.draw(k.getContext("2d"));this._cacheCanvas=k}},uncache:function(){this._cacheCanvas=null},_stepStyle:function(k,l){g.step(this,k,l)},_updateTransform:function(k,l){if(k==="scale"){this.transform.scale=this.transform.scaleX=this.transform.scaleY=l}else{if(k in this.transform){this.transform[k]=l}}},_updateTransform3D:function(k,l){if(k in this.transform3d){this.transform3d[k]=l}},_mergeTransformText:function(l){var k="";if(l.translateX!==0||l.translateY!==0){k+="translate("+l.translateX+"px,"+l.translateY+"px)"}if(l.rotate!==0){k+=" rotate("+l.rotate+"deg)"}if(l.scaleX!==1||l.scaleY!==1){k+=" scale("+l.scaleX+","+l.scaleY+")"}if(l.skewX!==0||l.skewY!==0){k+=" skew("+l.skewX+"deg,"+l.skewY+"deg)"}return k},_mergeTransform3DText:function(l){var k="";if(l.perspective!==0){k+="perspective("+l.perspective+"px)"}if(l.translateX!==0||l.translateY!==0||l.translateZ!==0){k+=" translate3d("+l.translateX+"px,"+l.translateY+"px,"+l.translateZ+"px)"}if(l.rotateX!==0){k+=" rotateX("+l.rotateX+"deg)"}if(l.rotateY!==0){k+=" rotateY("+l.rotateY+"deg)"}if(l.rotateZ!==0){k+=" rotateZ("+l.rotateZ+"deg)"}if(l.scaleX!==1||l.scaleY!==1||l.scaleZ!==1){k+=" scale3d("+l.scaleX+","+l.scaleY+","+l.scaleZ+")"}return k},_drawCanvas:function(k){this._updateCanvasContext(k);if(this._cacheCanvas){k.drawImage(this._cacheCanvas,0,0)}else{this.draw(k)}},_updateCanvasContext:function(l,m,k){var n=this._updateMatrix2D(),m=this._getAnchorX(),k=this._getAnchorY(),o=this.shadow;if(m===0&&k===0){l.transform(n.a,n.b,n.c,n.d,n.tx,n.ty)}else{l.transform(n.a,n.b,n.c,n.d,n.tx+m,n.ty+k);l.transform(1,0,0,1,-m,-k)}l.globalAlpha*=this.alpha;l.globalCompositeOperation=this.blendMode;if(o){l.shadowOffsetX=o.offsetX;l.shadowOffsetY=o.offsetY;l.shadowBlur=o.blur;l.shadowColor=o.color}},_getAnchorX:function(){return(this.renderMode?this.width:(this.elem.clientWidth||parseFloat(this.elemStyle.width)))*this.transform.originX},_getAnchorY:function(){return(this.renderMode?this.height:(this.elem.clientHeight||parseFloat(this.elemStyle.height)))*this.transform.originY},_updateMatrix2D:function(k){var l=this.transform;if(k){return this._matrix2d.identity().rotate(-l.rotate%360*i.DEG_TO_RAD).scale(l.scaleX,l.scaleY)}else{return this._matrix2d.identity().appendTransform(this.x+l.translateX,this.y+l.translateY,l.scaleX,l.scaleY,l.rotate,l.skewX,l.skewY,0,0)}},_drawWebGL:function(k){this._updateWebGLContext(k)},_updateWebGLContext:function(){}});return f});define("Container",["require","exports","module","DisplayObject"],function(d,c,e){var b=d("DisplayObject");var a=b.extend({init:function(f){this._super(f);this._initEvents()},_initEvents:function(){var n=this,g=this.elem,k,m,j,h;var l=function(o){o.preventDefault();k=n._hitTest(o.target);n._triggerEvent("mousedown",k,o.clientX,o.clientY);m=false;j=o.clientX;h=o.clientY},i=function(o){o.preventDefault();n._triggerEvent("mouseup",k,o.clientX,o.clientY);if(!m){n._triggerEvent("click",k,o.clientX,o.clientY)}k=null},f=function(o){o.preventDefault();n._triggerEvent("mousemove",k,o.clientX,o.clientY);if(!m&&(Math.abs(o.clientX-j)>3||Math.abs(o.clientY-h)>3)){m=true}};if(!g.addEventListener){g.addEventListener=g.attachEvent}g.addEventListener("mousedown",l);g.addEventListener("mouseup",i);g.addEventListener("mousemove",f)},_triggerEvent:function(g,j,i,h){if(j){var f={type:g,target:j,clientX:i,clientY:h};while(j){j.trigger(f);j=j.parent}}},_hitTest:function(f){var g;while(!g&&f&&f!==this.elem){g=f.displayObj;f=f.parentNode}return g}});return a});define("Canvas",["require","exports","module","DisplayObject","Matrix2D"],function(d,c,e){var b=d("DisplayObject"),f=d("Matrix2D");var a=b.extend({_tagName:"canvas",_ctx:null,_useElemSize:true,init:function(g){this._super(g);this._initEvents();this._ctx=this.elem.getContext("2d")},removeAllChildren:function(){var h=this._children,g,i;while(h.length){g=h.length-1;i=h[g];i.parent=null;h.splice(g,1)}},eachChildren:function(k){var j=this._children;for(var h=0,g=j.length;h<g;h++){k(j[h],h)}},update:function(){var g=this._ctx;g.clearRect(0,0,this.width,this.height);this.draw(g)},_initEvents:function(){var o=this,h=this.elem,l,n,k,i;var m=function(p){p.preventDefault();l=o._hitTest(o._children,p.offsetX,p.offsetY);o._triggerEvent("mousedown",l,p.offsetX,p.offsetY);n=false;k=p.offsetX;i=p.offsetY},j=function(p){p.preventDefault();o._triggerEvent("mouseup",l,p.offsetX,p.offsetY);if(!n){o._triggerEvent("click",l,p.offsetX,p.offsetY)}l=null},g=function(p){p.preventDefault();o._triggerEvent("mousemove",l,p.offsetX,p.offsetY);if(!n&&(Math.abs(p.offsetX-k)>3||Math.abs(p.offsetY-i)>3)){n=true}};if(!h.addEventListener){h.addEventListener=h.attachEvent}h.addEventListener("mousedown",m);h.addEventListener("mouseup",j);h.addEventListener("mouseout",j);h.addEventListener("mousemove",g)},_triggerEvent:function(h,k,j,i){if(k){var g={type:h,target:k,clientX:j,clientY:i};while(k){k.trigger(g);k=k.parent}}},_hitTest:function(k,j,g){var l;for(var h=k.length-1;h>=0;h--){l=k[h];if(l._children.length){l=this._hitTest(l._children,j,g);if(l){return l}}else{if(this._hitTestMatrix(l,j,g)){return l}}}return null},_hitTestMatrix:function(k,o,m){var v=new f(),s=[],B,A,j;while(k&&k!==this){s.unshift(k);k=k.parent}v.append(1,0,0,1,-o,-m);for(var p=0,n=s.length;p<n;p++){k=s[p];j=k._matrix2d;B=k._getAnchorX();A=k._getAnchorY();if(B===0&&A===0){v.append(j.a,j.b,j.c,j.d,j.tx,j.ty)}else{v.append(j.a,j.b,j.c,j.d,j.tx+B,j.ty+A);v.append(1,0,0,1,-B,-A)}}v.invert();var u=v.tx,t=v.ty,g=k.radius,z=k.width,q=k.height;if(g){return g*g>=(u-g)*(u-g)+(t-g)*(t-g)}else{if(z&&q){return u>=0&&u<=z&&t>=0&&t<=q}}return false}});return a});define("Graphics2D",["require","exports","module"],function(c,b,d){var e=function(){};e.get=function(f){return e.shapes[f]};var a=function(f,h,g){if(h){f.fill()}if(g){f.stroke()}};e.shapes={rect:{type:"rect",init:function(f){this.style("fill",f.fill);this.style("stroke",f.stroke);this.style("lineWidth",f.lineWidth);this.style("size",f)},draw:function(f){var h=this.fillStyle(f),g=this.strokeStyle(f);if(h){f.fillRect(0,0,this.width,this.height)}if(g){f.strokeRect(0,0,this.width,this.height)}}},circle:{type:"circle",init:function(f){this.style("fill",f.fill);this.style("stroke",f.stroke);this.style("lineWidth",f.lineWidth);this.style("radius",f.radius);this.style("angle",f.angle===undefined?360:f.angle)},draw:function(g){var i=this.fillStyle(g),h=this.strokeStyle(g),f=this.radius;g.beginPath();g.arc(f,f,f,0,Math.PI*2*(this.angle/360),0);if(this.angle<360){g.lineTo(f,f)}g.closePath();a(g,i,h)}},ellipse:{type:"ellipse",init:function(f){this.style("fill",f.fill);this.style("stroke",f.stroke);this.style("lineWidth",f.lineWidth);this.style("radiusXY",f)},draw:function(q){var l=this.fillStyle(q),n=this.strokeStyle(q),i=0.5522848,g=this.radiusX,f=this.radiusY,o=g*i,m=f*i,p=g*2,j=f*2;q.beginPath();q.moveTo(0,f);q.bezierCurveTo(0,f-m,g-o,0,g,0);q.bezierCurveTo(g+o,0,p,f-m,p,f);q.bezierCurveTo(p,f+m,g+o,j,g,j);q.bezierCurveTo(g-o,j,0,f+m,0,f);q.closePath();a(q,l,n)}},line:{type:"line",init:function(f){this.style("stroke",f.stroke);this.style("lineWidth",f.lineWidth);this.path=f.path},draw:function(h){var k=this.strokeStyle(h),m=this.path,g;if(!k){return}h.beginPath();if(m.length>1){for(var j=0,f=m.length;j<f;j++){g=m[j];if(j===0){h.moveTo(g[0],g[1])}else{if(g.length===2){h.lineTo(g[0],g[1])}else{if(g.length===4){h.quadraticCurveTo(g[0],g[1],g[2],g[3])}else{if(g.length===6){h.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5])}}}}}}h.stroke()}},ploygon:{type:"ploygon",init:function(f){this.style("fill",f.fill);this.style("stroke",f.stroke);this.points=f.points},draw:function(h){var n=this.fillStyle(h),m=this.strokeStyle(h),k=this.points,f;h.beginPath();if(k.length>2){for(var j=0,g=k.length;j<g;j++){f=k[j];if(j===0){h.moveTo(f[0],f[1])}else{h.lineTo(f[0],f[1])}}}h.closePath();a(h,n,m)}},polyStar:{type:"polyStar",init:function(f){this.style("fill",f.fill);this.style("stroke",f.stroke);this.style("radius",f.radius);this.sides=f.sides;this.cohesion=f.cohesion},draw:function(p){var j=this.fillStyle(p),k=this.strokeStyle(p),l=this.radius,f=this.sides,o=this.cohesion,g,n,m;p.beginPath();for(var h=0;h<f;h++){g=h/f*Math.PI*2;n=(1-Math.sin(g))*l;m=(1-Math.cos(g))*l;if(h===0){p.moveTo(n,m)}else{p.lineTo(n,m)}if(o){g+=Math.PI/f;n=(1-Math.sin(g)*o)*l;m=(1-Math.cos(g)*o)*l;p.lineTo(n,m)}}p.closePath();a(p,j,k)}},roundRect:{type:"roundRect",init:function(){},draw:function(){}},lines:{type:"lines",init:function(f){this.style("stroke",f.stroke);this.paths=f.paths},draw:function(n){var m=this.strokeStyle(n),o=this.paths,p,q;if(!m){return}n.beginPath();for(var g=0,h=o.length;g<h;g++){p=o[g];if(p.length>1){for(var k=0,f=p.length;k<f;k++){q=p[k];if(k===0){n.moveTo(q[0],q[1])}else{if(q.length===2){n.lineTo(q[0],q[1])}else{if(q.length===4){n.quadraticCurveTo(q[0],q[1],q[2],q[3])}else{if(q.length===6){n.bezierCurveTo(q[0],q[1],q[2],q[3],q[4],q[5])}}}}}}}n.stroke()}}};return e});define("Shape",["require","exports","module","DisplayObject","Graphics2D"],function(c,b,d){var a=c("DisplayObject"),e=c("Graphics2D");var f=a.extend({graphics2D:null,snapToPixel:true,init:function(g){this._super(g);this._initGraphics(g.graphics)},draw:function(g){if(this.graphics2D){this.graphics2D.draw.call(this,g)}},fillStyle:function(g){var h=this.fillColor,l=this.fillGradient,k=this.fillImage,i;if(k){if(k.complete){i=g.createPattern(k,"no-repeat")}}else{if(l){switch(l[0]){case"top":case"bottom":i=g.createLinearGradient(0,0,0,this.height);break;case"left":case"right":i=g.createLinearGradient(0,0,this.width,0);break;case"left top":i=g.createLinearGradient(0,0,this.width,this.height);break;case"right top":i=g.createLinearGradient(this.width,0,0,this.height);break;case"center":var m=this.width/2,j=this.height/2;i=g.createRadialGradient(m,j,0,m,j,m>j?m:j);break}i.addColorStop(0,l[1]);i.addColorStop(1,l[2])}else{i=h}}if(i){g.fillStyle=i;return true}return false},strokeStyle:function(g){var i=this.strokeColor;if(i){g.strokeStyle=i;g.lineWidth=this.lineWidth||1;g.lineCap=this.lineCap||"round";g.lineJoin=this.lineJoin||"round";if(this.snapToPixel&&g.lineWidth===1){var h=this._matrix2d;g.translate(h.tx>=0?0.5:-0.5,h.ty>=0?0.5:-0.5)}return true}return false},_initGraphics:function(h){var i=h.type,g=i?e.get(i):h;if(g&&g.init&&g.draw){this.graphics2D=g;g.init.call(this,h)}}});return f});define("Filter",["require","exports","module"],function(c,b,d){var a=function(){};a.get=function(h,f,g){var e=a.filters[f];if(e){return e(h,g)}};a.filters={grayscale:function(j,n){var g=document.createElement("canvas");g.width=j.width;g.height=j.height;var o=g.getContext("2d");o.drawImage(j,0,0);var e=o.getImageData(0,0,g.width,g.height),k=e.data,f;for(var m=0,h=k.length;m<h;m+=4){f=(k[m]+k[m+1]+k[m+2])/3;k[m]=k[m+1]=k[m+2]=f}o.putImageData(e,0,0);return g},brightness:function(h,g){var f=document.createElement("canvas");f.width=h.width;f.height=h.height;var e=f.getContext("2d");e.drawImage(h,0,0);e.globalCompositeOperation="lighter";e.drawImage(h,0,0);return f},impression:function(k,o){var g=document.createElement("canvas");g.width=k.width;g.height=k.height;var q=g.getContext("2d");q.drawImage(k,0,0);var e=q.getImageData(0,0,g.width,g.height),n=e.data,p=["1","0"],j=[];for(var m=0,h=n.length;m<h;m+=16){if(Math.floor(m/4/g.width)%4){continue}j.push(["rgba("+n[m]+","+n[m+1]+","+n[m+2]+","+n[m+3]+")",p[Math.floor(Math.random()*2)],m/4%g.width,Math.floor(m/4/g.width)])}q.clearRect(0,0,g.width,g.height);q.font="40px Microsoft Yahei";q.textBaseline="middle";q.textAlign="center";q.globalAlpha=0.25;var m,f;while(j.length){m=Math.floor(Math.random()*j.length);f=j[m];q.fillStyle=f[0];q.fillText(f[1],f[2],f[3]);j.splice(m,1)}return g},rilievo:function(j,q){var g=document.createElement("canvas");g.width=j.width;g.height=j.height;var r=g.getContext("2d");r.drawImage(j,0,0);var e=r.getImageData(0,0,g.width,g.height),m=e.data,n,p,f,o=function(i){if(i<0){i=0}else{if(i>255){i=255}}return i};for(var k=0,h=m.length;k<h;k+=4){n=k+4;if(m[n]===undefined){n=k}p=Math.floor((m[n]+m[n+1]+m[n+2])-(m[k]+m[k+1]+m[k+2]));f=o(p+128);m[k]=m[k+1]=m[k+2]=f}r.putImageData(e,0,0);return g}};return a});define("Bitmap",["require","exports","module","DisplayObject","Filter"],function(d,e,b){var f=d("DisplayObject"),a=d("Filter");var i=!!document.createElement("canvas").getContext,c=document.createElement("div").style,g=c.webkitTransform===""?"webkit":c.WebkitTransform===""?"Webkit":c.msTransform===""?"ms":c.MozTransform===""?"Moz":"ct";var h=f.extend({_image:null,_sourceRect:null,_sourceCanvas:null,_scaleToFit:false,init:function(j){this._super(j);this._initImage(j)},_initImage:function(j){var k=j.image;if(j.sourceRect){this._sourceRect=j.sourceRect;this.style("size",{width:this._sourceRect[2],height:this._sourceRect[3]})}else{if(j.scaleToFit){this._scaleToFit=j.scaleToFit}}if(this.renderMode===0){this.elemStyle.backgroundImage="url("+k+")";this.elemStyle.backgroundRepeat="no-repeat";if(this._sourceRect){this.elemStyle.backgroundPosition="-"+this._sourceRect[0]+"px -"+this._sourceRect[1]+"px"}else{if(this._scaleToFit){this.elemStyle.backgroundSize="100% 100%"}}}else{if(this.renderMode===1){if(typeof(k)==="string"){this._image=new Image();this._image.src=k}else{this._image=k}}}},draw:function(j){if(this._image.complete){var k=this._sourceCanvas||this._image;if(this._sourceRect){j.drawImage(k,this._sourceRect[0],this._sourceRect[1],this.width,this.height,0,0,this.width,this.height)}else{if(this._scaleToFit){j.drawImage(k,0,0,k.width,k.height,0,0,this.width,this.height)}else{j.drawImage(k,0,0,this.width,this.height,0,0,this.width,this.height)}}}},applyFilter:function(k,l){if(this.renderMode===0){this.elemStyle[g+"Filter"]=k?(k+"("+l+")"):""}else{if(this.renderMode===1){var m=this._image;if(m.complete){this._sourceCanvas=(k&&i)?a.get(m,k,l):null}else{var j=this;if(!m.addEventListener){m.addEventListener=m.attachEvent}m.addEventListener("load",function(){j.applyFilter(k,l)})}}}}});return h});define("Text",["require","exports","module","DisplayObject"],function(c,b,d){var a=c("DisplayObject");var e=a.extend({text:null,init:function(f){this._super(f);this._setText(f)},draw:function(f){f.font=this.font;f.textAlign=this.textAlign;f.textBaseline=this.textBaseline;f.fillStyle=this.fillColor;f.fillText(this.text,0,0)},_setText:function(f){this.text=f.text||"";this.font=f.font||"20px Microsoft Yahei";this.textAlign=f.textAlign||"left";this.textBaseline=f.textBaseline||"top";this.fillColor=f.fill||"black";if(!this.renderMode){this.elem.innerHTML=this.text}}});return e});define("Timeline",["require","exports","module","Class","Ease"],function(c,b,d){var a=c("Class"),e=c("Ease");var f=a.extend({_paused:false,_finish:false,_target:null,_targets:null,_deltaTime:-1,init:function(){this._targets=[];this._deltaTime=0},setNowTime:function(g){this._deltaTime=g},has:function(k){var j=this._targets,g=j.length;for(var h=g-1;h>=0;h--){if(j[h]===k){return true}}return false},get:function(g){if(!this.has(g)){this.removeKeyframes(g);this._targets.push(g)}this._target=g;return this},addKeyframe:function(q,k,p,u){var o=this._target,n=o.data("tl_queue"),g=o.data("tl_start");if(!n){n=[];g={};o.data("tl_queue",n);o.data("tl_start",g)}for(var m in q){g[m]=this._clone(o.style(m))}n.push([q,k,p||"linear",u]);n.sort(function(l,i){return l[1]-i[1]});var s=[],h,t=0,r=0;for(var m=0,j=n.length;m<j;m++){h=n[m];if(m===0){s.push({from:h[1]===0?-1:0,to:h[1],start:g,end:h[0],ease:h[2],cb:h[3]})}else{s.push({from:t,to:h[1],start:g,end:h[0],ease:h[2],cb:h[3]})}t=h[1];g=this._merge(g,h[0])}o.data("tl_steps",s);return this},removeKeyframes:function(g){g.data("tl_queue",null);g.data("tl_start",null);g.data("tl_steps",null);g.data("tl_cur_step",null)},update:function(x){if(this._paused){return}var m=this._deltaTime,y=this._targets,z,v,p,k,g,h,q,o,n,t=0;for(var s=0,w=y.length;s<w;s++){z=y[s];v=z.data("tl_steps");k=z.data("tl_cur_step");n=v[v.length-1].to;if(k){if(m>=k.from&&m<=k.end){p=k}else{k.cb&&k.cb()}}if(!p){for(var u=0,r=v.length;u<r;u++){if(m>=v[u].from&&m<=v[u].to){p=v[u];z.data("tl_cur_step",p);z.style(p.start);break}}}if(p){g=p.to-p.from;h=(m-p.from)/g;q=e.get(p.ease);if(q){o=q(h,g*h,0,1,g);for(var A in p.end){z._stepStyle(A,{pos:o,start:p.start[A],end:p.end[A]})}}p=null}if(t<n){t=n}}if(m>=t){this._deltaTime=0}else{this._deltaTime+=x}},_clone:function(h){var g;if(typeof(h)==="object"){g={};for(var j in h){g[j]=this._clone(h[j])}}else{g=h}return g},_merge:function(h,m){var g=this._clone(h);if(typeof(m)==="object"){for(var l in m){if(typeof(g[l])==="object"&&typeof(m[l])==="object"){for(var k in m[l]){g[l][k]=m[l][k]}}else{g[l]=m[l]}}}else{g=m}return g}});return f});define("Sprite",["require","exports","module","DisplayObject"],function(d,b,e){var a=d("DisplayObject");var c=a.extend({animationName:"",_paused:true,_images:null,_imageIndex:-1,_animations:null,_currentAnimation:null,_frames:null,_currentFrame:null,_deltaTime:-1,_frameIndex:-1,init:function(f){this._super(f);this._initSpriteSheet(f.spriteSheet)},play:function(f){var g=this._animations[f];if(g){this.animationName=f;this._currentAnimation=g;this._deltaTime=0;this._frameIndex=0;this._paused=false}},gotoAndStop:function(f){var g=this._frames[f];this._playFrame(g);this._paused=true},update:function(n){if(this._paused||!this._currentAnimation){return}var h=this._currentAnimation,f=h[0],i=h[1],k=h[2],j=h[3];var m,l;if(j>0){m=this._deltaTime/j,l=Math.floor((i-f+1)*m+f);this._deltaTime+=n}else{l=this._frameIndex+f;this._frameIndex+=1}var g=this._frames[l>i?i:l];this._playFrame(g);if(j>0?(this._deltaTime>j):(this._frameIndex>i-f)){k=(this.animationEnd&&this.animationEnd())||k;if(k){this.play(k)}else{this._deltaTime=0;this._frameIndex=0}}},draw:function(f){var h=this._currentFrame;if(h){var g=this._images[h[4]];if(g&&g.complete){f.drawImage(g,h[0],h[1],h[2],h[3],h[5],h[6],h[2],h[3])}}},_initSpriteSheet:function(f){this._initImages(f.images);this._initFrames(f.frames);this._animations=f.animations},_initImages:function(f){this._images=[];var j;for(var h=0,g=f.length;h<g;h++){if(this.renderMode){j=new Image();j.src=f[h]}else{j=f[h]}this._images.push(j)}},_initFrames:function(o,f){if(!f){this._frames=[]}if(o instanceof Array){for(var n=0,g=o.length;n<g;n++){if(o[n] instanceof Array){this._frames.push(o[n])}else{this._initFrames(o[n],true)}}}else{for(var k=0,m=o.rows;k<m;k++){for(var n=0,h=o.cols;n<h;n++){if((k*o.cols+n)===o.num){break}else{this._frames.push([n*o.width,k*o.height,o.width,o.height,o.img||0,0,0])}}}}},_playFrame:function(f){if(this.renderMode){this._currentFrame=f}else{if(this.width!==f[2]||this.height!==f[3]){this.style("size",{width:f[2],height:f[3]})}if(this._imageIndex!==f[4]){this.elemStyle.backgroundImage="url("+this._images[f[4]]+")";this.elemStyle.backgroundRepeat="no-repeat";this._imageIndex=f[4]}this.elemStyle.backgroundPosition="-"+f[0]+"px -"+f[1]+"px"}}});return c});define("ParticleEmitter",["require","exports","module","Shape","Bitmap"],function(c,b,e){var f=c("Shape"),d=c("Bitmap");var a=function(){};a.get=function(g){return a.particles[g]};a.particles={rain:{type:"rain",init:function(m){var k=m.width,g=m.height,m;this.particles=[];this.data("fall_width",k);this.data("fall_height",g);for(var j=0,h=m.num||60;j<h;j++){m=new f({renderMode:this.renderMode,pos:{x:Math.floor(Math.random()*k),y:-Math.floor(Math.random()*g)},graphics:{type:"rect",width:j%6===0?3:2,height:j%3===0?24:16,fill:"#FFF"},alpha:Math.floor(Math.random()*3)/10+0.2});m.data("fall_speed",Math.floor(Math.random()*25)/100+0.25);this.particles.push(m);this.addChild(m)}},update:function(o){var q=this.particles,g=this.data("fall_width"),p=this.data("fall_height"),m,h,n;for(var k=0,j=q.length;k<j;k++){m=q[k];h=m.data("fall_speed")*o;n=m.y;if(n>p){n=-Math.floor(Math.random()*p)}m.style("y",n+h)}}},snow:{type:"snow",init:function(n){var g=n.width,q=n.height,j,o,p,k,n;if(n.image){j=new Image();j.src=n.image}this.particles=[];this.data("fall_width",g);this.data("fall_height",q);for(var m=0,h=n.num||60;m<h;m++){p={x:Math.floor(Math.random()*g),y:-Math.floor(Math.random()*q)};o=Math.floor(Math.random()*8)+12;k=Math.floor(Math.random()*4)/10+0.6;n=j?new d({renderMode:this.renderMode,pos:p,width:o,height:o,scaleToFit:true,image:j,alpha:k}):new f({renderMode:this.renderMode,pos:p,alpha:Math.floor(Math.random()*5)/10+0.3,graphics:{type:"circle",radius:Math.floor(Math.random()*3)+4,fill:"#FFF",angle:360}});n.data("fall_x",n.x);n.data("fall_width",Math.floor(Math.random()*10+10));n.data("fall_speed",Math.floor(Math.random()*15+15)/1000);this.particles.push(n);this.addChild(n)}},update:function(p){var r=this.particles,g=this.data("fall_width"),q=this.data("fall_height"),m,h,o,n;for(var k=0,j=r.length;k<j;k++){m=r[k];h=m.data("fall_speed")*p;o=m.data("fall_x");n=m.y;if(n>q){m.fallTime=0;n=-Math.floor(Math.random()*q)}m.style("pos",{x:o+Math.sin(n/50)*m.data("fall_width"),y:n+h})}}}};return a});define("ParticleSystem",["require","exports","module","DisplayObject","ParticleEmitter"],function(e,d,f){var c=e("DisplayObject"),b=e("ParticleEmitter");var a=c.extend({emitter:null,particles:null,init:function(g){this._super(g);this._initParticle(g.particle)},update:function(g){if(this.emitter){this.emitter.update.call(this,g)}},_initParticle:function(i){var g=i.type,h=g?b.get(g):i;if(h&&h.init&&h.update){this.emitter=h;h.init.call(this,i)}}});return a});define("BoneAnimation",["require","exports","module","DisplayObject","Timeline","Bitmap"],function(d,b,f){var a=d("DisplayObject"),g=d("Timeline"),e=d("Bitmap");var c=a.extend({animationName:"",_paused:true,_bones:null,_animations:null,_currentAnimation:null,_timeline:null,init:function(h){this._super(h);this._initBones(h)},play:function(h){var i=this._animations[h];if(i){this.animationName=h;this._currentAnimation=i;this._timeline=this._initTimeline(i);this._paused=false}},update:function(h){if(this._paused||!this._currentAnimation){return}this._timeline.update(h)},_initBones:function(n){this._bones={};this._animations={};var h=n.bones,p=n.animations,o,m;for(var k=0,j=h.length;k<j;k++){o=h[k];if(o.image){m=new e({renderMode:this.renderMode,x:0,y:0,width:o.width,height:o.height,image:o.image})}else{m=new a({renderMode:this.renderMode,x:0,y:0,width:o.width,height:o.height})}if(!o.parent){this.addChild(m)}this._bones[o.tag]=m}for(var k=0,j=h.length;k<j;k++){o=h[k];if(o.parent){this._bones[o.parent].addChild(this._bones[o.tag])}}for(var k in p){this._animations[k]=p[k]}},_initTimeline:function(m){var t=new g(),p,s,r,h;for(var n=0,q=m.length;n<q;n++){p=m[n];s=this._bones[p.tag];r=p.frames;t.get(s);for(var o=0,k=r.length;o<k;o++){h=r[o];t.addKeyframe(h,h.time)}}return t}});return c});define("cartoon",["require","exports","module","Class","Ticker","DisplayObject","Container","Canvas","Shape","Bitmap","Text","Tween","Timeline","Sprite","ParticleSystem","BoneAnimation"],function(c,b,d){var a={Class:c("Class"),Ticker:c("Ticker"),DisplayObject:c("DisplayObject"),Container:c("Container"),Canvas:c("Canvas"),Shape:c("Shape"),Bitmap:c("Bitmap"),Text:c("Text"),Tween:c("Tween"),Timeline:c("Timeline"),Sprite:c("Sprite"),ParticleSystem:c("ParticleSystem"),BoneAnimation:c("BoneAnimation")};return a});