define("Class",[],function(){var b=function(){},a=false,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;b.extend=function(g){var f=this,e=this.prototype,i=function(){if(!a&&this.init){this.init.apply(this,arguments)}};if(f!==b){a=true;i.prototype=new f()}a=false;var h=i.prototype;for(var d in g){h[d]=(typeof(e[d])==="function"&&typeof(g[d])==="function"&&c.test(g[d]))?(function(j,k){return function(){var m=this._super;this._super=e[j];var l=k.apply(this,arguments);this._super=m;return l}})(d,g[d]):g[d]}i.extend=arguments.callee;return i};return b});define("Ticker",["require","exports","module","Class"],function(c,b,d){var a=c("Class");var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout;var f=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;var e=a.extend({fps:-1,_paused:true,_timer:null,_interval:-1,_targets:null,_useAnimationFrame:false,init:function(h,i){this.fps=0;this._interval=h||(1000/60).toFixed(2);this._targets=[];if(i===undefined||i==="auto"||i===true){this._useAnimationFrame=g!==window.setTimeout}},isActive:function(){return !this._paused},start:function(){this._clearTimer();this._paused=false;this._setTimer()},stop:function(){this._paused=true},has:function(m){var k=this._targets,h=k.length;for(var j=h-1;j>=0;j--){if(k[j]===m){return true}}return false},add:function(h){if(!this.has(h)){if(h._ticker){h._ticker.remove(h)}if(h.update instanceof Function){h._ticker=this}this._targets.push(h)}},remove:function(m){var k=this._targets,h=k.length;for(var j=h-1;j>=0;j--){if(k[j]===m){if(m._ticker){m._ticker=null}k.splice(j,1);break}}},removeAll:function(){this._targets=[]},_clearTimer:function(){if(this._timer){var h=this._useAnimationFrame?f:window.clearTimeout;h(this._timer);this._timer=null}},_setTimer:function(){var w=this;var v=0,j=0,u=0,r=0,m=0,s=0,o=[],l=0;var p=w._interval,k=(p-1)*0.97,n=w._useAnimationFrame,i=n?g:window.setTimeout;var h=function(){if(!n){return true}if(m===0){m=new Date().getTime();return true}else{r=new Date().getTime();s=r-m;if(s>k){m=r;return true}}return false};var q=function(){if(j===0){j=new Date().getTime()}else{v=new Date().getTime();u=v-j;j=v;o.push(u);if(o.length===5){for(var y=0,x=o.length;y<x;y++){l+=o[y]}w.fps=Math.floor(5000/l);o=[];l=0}}w._exec(u)};var t=function(){if(h()){q()}w._clearTimer();if(!w._paused&&!e._destroyed){w._timer=i(t,p)}};t()},_exec:function(n){var j=this._targets,m;for(var k=0,h=j.length;k<h;k++){if(this._paused||e._destroyed){break}m=j[k];if(m.update instanceof Function){m.update(n)}else{if(m instanceof Function){m(n)}}}}});e._destroyed=false;e.destroy=function(){this._destroyed=true};return e});define("EventDispatcher",["require","exports","module","Class"],function(c,b,d){var a=c("Class");var e=a.extend({_listeners:null,on:function(g,f){this.addEventListener(g,f)},off:function(g,f){this.removeEventListener(g,f)},trigger:function(f){this.dispatchEvent(f)},addEventListener:function(j,h){var f=this.getEventListener(j);for(var g=f.length-1;g>=0;g--){if(f[g]===h){f.splice(g,1);break}}f.push(h)},removeEventListener:function(j,h){var f=this.getEventListener(j);for(var g=f.length-1;g>=0;g--){if(f[g]===h){f.splice(g,1);break}}},dispatchEvent:function(h){var f=this.getEventListener(h.type);for(var j=0,g=f.length;j<g;j++){f[j].call(this,h)}},getEventListener:function(f){if(!this._listeners){this._listeners={}}if(!this._listeners[f]){this._listeners[f]=[]}return this._listeners[f]}});return e});define("PrivateData",["require","exports","module","Class"],function(d,c,e){var b=d("Class");var a=b.extend({_data:null,init:function(){this._data={}},get:function(f){return this._data[f]},set:function(f,g){this._data[f]=g;return g}});return a});define("StyleSheet",["require","exports","module"],function(d,e,a){var b=document.createElement("div").style,h=b.transform===""||b.webkitTransform===""||b.msTransform===""||b.MozTransform==="",i=h?false:b.filter==="",c=navigator.userAgent.indexOf("MSIE 9.0")>0,g=b.webkitTransform===""?"webkit":b.WebkitTransform===""?"Webkit":b.msTransform===""?"ms":b.MozTransform===""?"Moz":"";var f=function(){};f.has=function(j){return !!f.styles[j]};f.init=function(l,j){var k=f.styles[j];if(k&&k.init){return k.init(l,j)}};f.get=function(l,j){var k=f.styles[j];if(k){return k.get(l,j)}};f.set=function(m,j,l){var k=f.styles[j];if(k){k.set(m,j,l)}};f.step=function(m,j,l){var k=f.styles[j];if(k&&k.step){k.step(m,j,l)}};f.commonGetStyle=function(k,j){return k[j]};f.commonSetStyle=function(l,j,k){l[j]=k};f.commonSetElemStyle=function(k,j,l){var m=j.charAt(0).toUpperCase()+j.substring(1,j.length);k[g+m]=l};f.commonStepStyle=function(n,l,m){var p=m.start,k=m.end,o=m.pos;var j=(k-p)*o+p;n.style(l,j)};f.commonStepStyles=function(o,m,n){var q=n.start,k=n.end,p=n.pos,j={};for(var l in k){j[l]=(k[l]-q[l])*p+q[l]}o.style(m,j)};f.styles={x:{get:f.commonGetStyle,set:function(m,j,l){f.commonSetStyle(m,j,l);if(m.renderMode===0){var k=m.elemStyle;k.position="absolute";k.left=l+"px"}},step:f.commonStepStyle},y:{get:f.commonGetStyle,set:function(m,j,l){f.commonSetStyle(m,j,l);if(m.renderMode===0){var k=m.elemStyle;k.position="absolute";k.top=l+"px"}},step:f.commonStepStyle},z:{get:f.commonGetStyle,set:function(l,j,k){f.commonSetStyle(l,j,k);l.style("transform3d",{perspective:k})},step:f.commonStepStyle},pos:{get:function(k,j){return{x:k.x,y:k.y}},set:function(m,j,l){if(l.x!==undefined){m.x=l.x}if(l.y!==undefined){m.y=l.y}if(m.renderMode===0){var k=m.elemStyle;k.position="absolute";k.left=m.x+"px";k.top=m.y+"px"}},step:f.commonStepStyles},width:{get:f.commonGetStyle,set:function(l,j,k){f.commonSetStyle(l,j,k);if(l.renderMode===0){if(l._useElemSize){l.elem.width=k}else{l.elemStyle.width=k+"px"}}},step:f.commonStepStyle},height:{get:f.commonGetStyle,set:function(l,j,k){f.commonSetStyle(l,j,k);if(l.renderMode===0){if(l._useElemSize){l.elem.height=k}else{l.elemStyle.height=k+"px"}}},step:f.commonStepStyle},size:{get:function(k,j){return{width:k.width,height:k.height}},set:function(n,j,m){if(m.width!==undefined){n.width=m.width}if(m.height!==undefined){n.height=m.height}if(n.renderMode===0){if(n._useElemSize){var l=n.elem;l.width=n.width;l.height=n.height}else{var k=n.elemStyle;k.width=n.width+"px";k.height=n.height+"px"}}},step:f.commonStepStyles},transform:{init:function(k,j){k.transform={translateX:0,translateY:0,rotate:0,scale:1,scaleX:1,scaleY:1,skewX:0,skewY:0,originX:0.5,originY:0.5};return k.transform},get:function(k,j){return k.transform||f.init(k,j)},set:function(o,r,q){var n=f.get(o,r);for(var m in q){o._updateTransform(m,q[m])}if(o.renderMode===0){var j=o.elemStyle;if(i){var l=o.elem,k=j.filter,t=/Matrix([^)]*)/,p=o._updateMatrix2D(true),s=["Matrix(M11="+p.a,"M12="+p.b,"M21="+p.c,"M22="+p.d,"SizingMethod='auto expand'"].join(",");j.filter=k.match(t)?k.replace(t,s):("progid:DXImageTransform.Microsoft."+s+") "+k);j.marginLeft=n.translateX+(l.clientWidth-l.offsetWidth)*n.originX+"px";j.marginTop=n.translateY+(l.clientHeight-l.offsetHeight)*n.originY+"px"}else{f.commonSetElemStyle(j,"transform",o._mergeTransformText(n));if("origin" in q||"originX" in q||"originY" in q){f.commonSetElemStyle(j,"transformOrigin",n.originX*100+"% "+n.originY*100+"%")}}}},step:f.commonStepStyles},transform3d:{init:function(k,j){k.transform3d={perspective:0,translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scaleX:1,scaleY:1,scaleZ:1,originX:0.5,originY:0.5,originZ:0.5};return k.transform3d},get:function(k,j){return k.transform3d||f.init(k,j)},set:function(n,k,m){var o=f.get(n,k);for(var j in m){n._updateTransform3D(j,m[j])}if(n.renderMode===0){var l=n.elemStyle;f.commonSetElemStyle(l,"transformStyle","preserve-3d");f.commonSetElemStyle(l,"backfaceVisibility","visible");f.commonSetElemStyle(l,"transform",n._mergeTransform3DText(o));if("originX" in m||"originY" in m||"originZ" in m){f.commonSetElemStyle(l,"transformOrigin",o.originX*100+"% "+o.originY*100+"%")}}},step:f.commonStepStyles},visible:{get:f.commonGetStyle,set:function(l,j,k){f.commonSetStyle(l,j,k);if(l.renderMode===0){l.elemStyle.display=k?"block":"none"}}},overflow:{get:f.commonGetStyle,set:function(l,j,k){f.commonSetStyle(l,j,k);if(!l.renderMode){l.elemStyle.overflow=k}}},alpha:{get:f.commonGetStyle,set:function(p,l,o){f.commonSetStyle(p,l,o);if(p.renderMode===0){var n=p.elemStyle;if(i){var m=n.filter,j=/alpha\(opacity=([^)]*)/,k="alpha(opacity="+o*100;n.filter=m.match(j)?m.replace(j,k):(m+" "+k+")")}else{n.opacity=o}}},step:f.commonStepStyle},shadow:{get:f.commonGetStyle,set:function(l,j,k){if(typeof(k)==="string"){k=k.split("px ");k={offsetX:parseFloat(k[0]),offsetY:parseFloat(k[1]),blur:parseFloat(k[2]),color:k[3]}}f.commonSetStyle(l,j,k);if(l.renderMode===0){l.elemStyle.boxShadow=k.offsetX+"px "+k.offsetY+"px "+k.blur+"px "+k.color}},step:f.commonStepStyles},fill:{get:function(k,j){return k.fillColor||k.fillGradient||k.fillImage},set:function(l,j,k){if(k.match(/^\#|^rgb|^rgba|black|red|green|blue|yellow|orange|pink|purple|gray/)){l.style("fillColor",k)}else{if(k.match(/^top|^right|^bottom|^left|^center/)){l.style("fillGradient",k)}else{if(k.match(/\.jpg$|\.png$|\.gif$/)){l.style("fillImage",k)}}}},step:function(m,j,k){var l=k.end;if(l.match(/^\#|^rgb|^rgba|black|red|green|blue|yellow|orange|pink|purple|gray/)){m._stepStyle("fillColor",k)}else{if(l.match(/^top|^right|^bottom|^left|^center/)){m._stepStyle("fillGradient",k)}}}},fillColor:{get:f.commonGetStyle,set:function(l,j,k){l.fillGradient=l.fillImage=null;f.commonSetStyle(l,j,k);if(l.renderMode===0){l.elemStyle.backgroundColor=k;l.elemStyle.backgroundImage=""}},step:function(o,m,n){var q=f.toRGBA(n.start),k=f.toRGBA(n.end),p=n.pos,j={};for(var l in k){j[l]=Math.floor((k[l]-q[l])*p+q[l])}o.style(m,f.toColor(j))}},fillGradient:{get:f.commonGetStyle,set:function(p,k,o){p.fillColor=p.fillImage=null;if(typeof(o)==="string"){o=f.toGradient(o)}f.commonSetStyle(p,k,o);if(p.renderMode===0){var n=p.elemStyle,m;if(i||c){var l=n.filter,j=/gradient([^)]*)/;m="gradient(GradientType=0,startColorstr='"+o[1]+"', endColorstr='"+o[2]+"'";n.filter=l.match(j)?l.replace(j,m):(l+" progid:DXImageTransform.Microsoft."+m+")")}else{if(o[0]==="center"){m="radial-gradient(circle,"+o[1]+","+o[2]+")"}else{m="linear-gradient("+o[0]+","+o[1]+","+o[2]+")"}n.backgroundImage="-webkit-"+m;n.backgroundImage="-ms-"+m;n.backgroundImage="-moz-"+m}}},step:function(o,l,m){var q=m.start,k=m.end,k=typeof(k)==="string"?f.toGradient(k):k,p=m.pos,j=[k[0]];var n=function(v,u,r){u=f.toRGBA(u);r=f.toRGBA(r);var s={};for(var t in r){s[t]=Math.floor((r[t]-u[t])*v+u[t])}return f.toColor(s)};j.push(n(p,q[1],k[1]));j.push(n(p,q[2],k[2]));o.style(l,j)}},fillImage:{get:f.commonGetStyle,set:function(m,j,k){m.fillColor=m.fillGradient=null;if(m.renderMode===0){m.elemStyle.backgroundImage="url("+k+")"}else{var l=new Image();l.src=k;k=l}f.commonSetStyle(m,j,k)}},stroke:{get:function(k,j){return k.strokeColor},set:function(l,j,k){l.style("strokeColor",k)},step:function(l,j,k){l._stepStyle("strokeColor",k)}},strokeColor:{get:f.commonGetStyle,set:function(l,j,k){f.commonSetStyle(l,j,k);if(l.renderMode===0){l.elemStyle.border="1px solid "+k}},step:function(o,m,n){var q=f.toRGBA(n.start),k=f.toRGBA(n.end),p=n.pos,j={};for(var l in k){j[l]=Math.floor((k[l]-q[l])*p+q[l])}o.style(m,f.toColor(j))}},lineWidth:{get:f.commonGetStyle,set:function(l,j,k){f.commonSetStyle(l,j,k);if(l.renderMode===0){l.elemStyle.borderWidth=k+"px"}},step:f.commonStepStyle},radius:{get:f.commonGetStyle,set:function(m,j,l){f.commonSetStyle(m,j,l);m.width=m.height=l*2;if(m.renderMode===0){var k=m.elemStyle;k.borderRadius="50%";k.width=k.height=m.width+"px"}},step:f.commonStepStyle},radiusXY:{get:function(k,j){return{radiusX:k.radiusX,radiusY:k.radiusY}},set:function(m,j,l){m.radiusX=l.radiusX;m.radiusY=l.radiusY;m.width=m.radiusX*2;m.height=m.radiusY*2;if(m.renderMode===0){var k=m.elemStyle;k.borderRadius="50%";k.width=m.width+"px";k.height=m.height+"px"}}},angle:{get:f.commonGetStyle,set:f.commonSetStyle,step:f.commonStepStyle}};f.toRGBA=function(j){var k={r:0,g:0,b:0,a:1};if(j.indexOf("rgb")>-1){j=j.replace(/rgb\(|rgba\(|\)/g,"");j=j.split(",");k.r=parseInt(j[0]);k.g=parseInt(j[1]);k.b=parseInt(j[2]);if(j.length===4){k.a=j[3]}}else{if(j.indexOf("#")>-1){if(j.length===4){k.r=j.substring(1,2);k.g=j.substring(2,3);k.b=j.substring(3,4);k.r=parseInt(k.r+k.r,16);k.g=parseInt(k.g+k.g,16);k.b=parseInt(k.b+k.b,16)}else{k.r=parseInt(j.substring(1,3),16);k.g=parseInt(j.substring(3,5),16);k.b=parseInt(j.substring(5,7),16)}}}return k};f.toColor=function(k){var m=k.r.toString(16),l=k.g.toString(16),j=k.b.toString(16);if(m.length===1){m="0"+m}if(l.length===1){l="0"+l}if(j.length===1){j="0"+j}return"#"+m+l+j};f.toGradient=function(m){m=m.split(/\,#|\,rgb/);for(var k=1,j=m.length;k<j;k++){m[k]=(m[k].indexOf("(")>-1?"rgb":"#")+m[k]}return m};if(jQuery){jQuery.extend(jQuery.fx.step,{backgroundColor:function(o){var n=o.elem,q=f.toRGBA(o.start),k=f.toRGBA(o.end),p=o.pos;var j={},m=n.style;for(var l in k){j[l]=Math.floor((k[l]-q[l])*p+q[l])}m.backgroundColor=f.toColor(j)}})}return f});define("Matrix2D",["require","exports","module"],function(b,a,c){var e=function(i,g,k,j,h,f){this.initialize(i,g,k,j,h,f)};var d=e.prototype;e.identity=null;e.DEG_TO_RAD=Math.PI/180;d.a=1;d.b=0;d.c=0;d.d=1;d.tx=0;d.ty=0;d.alpha=1;d.shadow=null;d.compositeOperation=null;d.visible=true;d.initialize=function(i,g,k,j,h,f){this.a=(i==null)?1:i;this.b=g||0;this.c=k||0;this.d=(j==null)?1:j;this.tx=h||0;this.ty=f||0;return this};d.prepend=function(n,m,l,k,j,h){var g=this.tx;if(n!=1||m!=0||l!=0||k!=1){var f=this.a;var i=this.c;this.a=f*n+this.b*l;this.b=f*m+this.b*k;this.c=i*n+this.d*l;this.d=i*m+this.d*k}this.tx=g*n+this.ty*l+j;this.ty=g*m+this.ty*k+h;return this};d.append=function(o,m,l,k,j,h){var g=this.a;var n=this.b;var i=this.c;var f=this.d;this.a=o*g+m*i;this.b=o*n+m*f;this.c=l*g+k*i;this.d=l*n+k*f;this.tx=j*g+h*i+this.tx;this.ty=j*n+h*f+this.ty;return this};d.prependMatrix=function(f){this.prepend(f.a,f.b,f.c,f.d,f.tx,f.ty);return this};d.appendMatrix=function(f){this.append(f.a,f.b,f.c,f.d,f.tx,f.ty);return this};d.prependTransform=function(l,j,o,n,q,m,k,h,g){if(q%360){var f=q*e.DEG_TO_RAD;var p=Math.cos(f);var i=Math.sin(f)}else{p=1;i=0}if(h||g){this.tx-=h;this.ty-=g}if(m||k){m*=e.DEG_TO_RAD;k*=e.DEG_TO_RAD;this.prepend(p*o,i*o,-i*n,p*n,0,0);this.prepend(Math.cos(k),Math.sin(k),-Math.sin(m),Math.cos(m),l,j)}else{this.prepend(p*o,i*o,-i*n,p*n,l,j)}return this};d.appendTransform=function(l,j,o,n,q,m,k,h,g){if(q%360){var f=q*e.DEG_TO_RAD;var p=Math.cos(f);var i=Math.sin(f)}else{p=1;i=0}if(m||k){m*=e.DEG_TO_RAD;k*=e.DEG_TO_RAD;this.append(Math.cos(k),Math.sin(k),-Math.sin(m),Math.cos(m),l,j);this.append(p*o,i*o,-i*n,p*n,0,0)}else{this.append(p*o,i*o,-i*n,p*n,l,j)}if(h||g){this.tx-=h*this.a+g*this.c;this.ty-=h*this.b+g*this.d}return this};d.rotate=function(k){var j=Math.cos(k);var h=Math.sin(k);var g=this.a;var i=this.c;var f=this.tx;this.a=g*j-this.b*h;this.b=g*h+this.b*j;this.c=i*j-this.d*h;this.d=i*h+this.d*j;this.tx=f*j-this.ty*h;this.ty=f*h+this.ty*j;return this};d.skew=function(g,f){g=g*e.DEG_TO_RAD;f=f*e.DEG_TO_RAD;this.append(Math.cos(f),Math.sin(f),-Math.sin(g),Math.cos(g),0,0);return this};d.scale=function(f,g){this.a*=f;this.d*=g;this.c*=f;this.b*=g;this.tx*=f;this.ty*=g;return this};d.translate=function(f,g){this.tx+=f;this.ty+=g;return this};d.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};d.invert=function(){var g=this.a;var h=this.b;var i=this.c;var j=this.d;var f=this.tx;var k=g*j-h*i;this.a=j/k;this.b=-h/k;this.c=-i/k;this.d=g/k;this.tx=(i*this.ty-j*f)/k;this.ty=-(g*this.ty-h*f)/k;return this};d.isIdentity=function(){return this.tx==0&&this.ty==0&&this.a==1&&this.b==0&&this.c==0&&this.d==1};d.transformPoint=function(f,h,g){g=g||{};g.x=f*this.a+h*this.c+this.tx;g.y=f*this.b+h*this.d+this.ty;return g};d.decompose=function(h){if(h==null){h={}}h.x=this.tx;h.y=this.ty;h.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);h.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var g=Math.atan2(-this.c,this.d);var f=Math.atan2(this.b,this.a);if(g==f){h.rotation=f/e.DEG_TO_RAD;if(this.a<0&&this.d>=0){h.rotation+=(h.rotation<=0)?180:-180}h.skewX=h.skewY=0}else{h.skewX=g/e.DEG_TO_RAD;h.skewY=f/e.DEG_TO_RAD}return h};d.reinitialize=function(n,m,l,k,i,h,g,o,j,f){this.initialize(n,m,l,k,i,h);this.alpha=g==null?1:g;this.shadow=o;this.compositeOperation=j;this.visible=f==null?true:f;return this};d.copy=function(f){return this.reinitialize(f.a,f.b,f.c,f.d,f.tx,f.ty,f.alpha,f.shadow,f.compositeOperation,f.visible)};d.appendProperties=function(g,i,f,h){this.alpha*=g;this.shadow=i||this.shadow;this.compositeOperation=f||this.compositeOperation;this.visible=this.visible&&h;return this};d.prependProperties=function(g,i,f,h){this.alpha*=g;this.shadow=this.shadow||i;this.compositeOperation=this.compositeOperation||f;this.visible=this.visible&&h;return this};d.clone=function(){return(new e()).copy(this)};d.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};e.identity=new e();return e});define("Ease",["require","exports","module"],function(b,a,c){var d=function(){};d.get=function(f){return e[f]||e.linear};var e={linear:function(f){return f},swing:function(f){return 0.5-Math.cos(f*Math.PI)/2},easeInQuad:function(g,h,f,j,i){return j*(h/=i)*h+f},easeOutQuad:function(g,h,f,j,i){return -j*(h/=i)*(h-2)+f},easeInOutQuad:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h+f}return -j/2*((--h)*(h-2)-1)+f},easeInCubic:function(g,h,f,j,i){return j*(h/=i)*h*h+f},easeOutCubic:function(g,h,f,j,i){return j*((h=h/i-1)*h*h+1)+f},easeInOutCubic:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h+f}return j/2*((h-=2)*h*h+2)+f},easeInQuart:function(g,h,f,j,i){return j*(h/=i)*h*h*h+f},easeOutQuart:function(g,h,f,j,i){return -j*((h=h/i-1)*h*h*h-1)+f},easeInOutQuart:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h+f}return -j/2*((h-=2)*h*h*h-2)+f},easeInQuint:function(g,h,f,j,i){return j*(h/=i)*h*h*h*h+f},easeOutQuint:function(g,h,f,j,i){return j*((h=h/i-1)*h*h*h*h+1)+f},easeInOutQuint:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h*h+f}return j/2*((h-=2)*h*h*h*h+2)+f},easeInSine:function(g,h,f,j,i){return -j*Math.cos(h/i*(Math.PI/2))+j+f},easeOutSine:function(g,h,f,j,i){return j*Math.sin(h/i*(Math.PI/2))+f},easeInOutSine:function(g,h,f,j,i){return -j/2*(Math.cos(Math.PI*h/i)-1)+f},easeInExpo:function(g,h,f,j,i){return(h==0)?f:j*Math.pow(2,10*(h/i-1))+f},easeOutExpo:function(g,h,f,j,i){return(h==i)?f+j:j*(-Math.pow(2,-10*h/i)+1)+f},easeInOutExpo:function(g,h,f,j,i){if(h==0){return f}if(h==i){return f+j}if((h/=i/2)<1){return j/2*Math.pow(2,10*(h-1))+f}return j/2*(-Math.pow(2,-10*--h)+2)+f},easeInCirc:function(g,h,f,j,i){return -j*(Math.sqrt(1-(h/=i)*h)-1)+f},easeOutCirc:function(g,h,f,j,i){return j*Math.sqrt(1-(h=h/i-1)*h)+f},easeInOutCirc:function(g,h,f,j,i){if((h/=i/2)<1){return -j/2*(Math.sqrt(1-h*h)-1)+f}return j/2*(Math.sqrt(1-(h-=2)*h)+1)+f},easeInElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return -(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f},easeOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return h*Math.pow(2,-10*i)*Math.sin((i*l-j)*(2*Math.PI)/k)+m+f},easeInOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l/2)==2){return f+m}if(!k){k=l*(0.3*1.5)}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}if(i<1){return -0.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f}return h*Math.pow(2,-10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k)*0.5+m+f},easeInBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*(h/=j)*h*((i+1)*h-i)+f},easeOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*((h=h/j-1)*h*((i+1)*h+i)+1)+f},easeInOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}if((h/=j/2)<1){return k/2*(h*h*(((i*=(1.525))+1)*h-i))+f}return k/2*((h-=2)*h*(((i*=(1.525))+1)*h+i)+2)+f},easeInBounce:function(g,h,f,j,i){return j-e.easeOutBounce(g,i-h,0,j,i)+f},easeOutBounce:function(g,h,f,j,i){if((h/=i)<(1/2.75)){return j*(7.5625*h*h)+f}else{if(h<(2/2.75)){return j*(7.5625*(h-=(1.5/2.75))*h+0.75)+f}else{if(h<(2.5/2.75)){return j*(7.5625*(h-=(2.25/2.75))*h+0.9375)+f}else{return j*(7.5625*(h-=(2.625/2.75))*h+0.984375)+f}}}},easeInOutBounce:function(g,h,f,j,i){if(h<i/2){return e.easeInBounce(g,h*2,0,j,i)*0.5+f}return e.easeOutBounce(g,h*2-i,0,j,i)*0.5+j*0.5+f},easeIn:function(g,h,f,j,i){return e.easeInQuad(g,h,f,j,i)},easeOut:function(g,h,f,j,i){return e.easeOutQuad(g,h,f,j,i)},easeInOut:function(g,h,f,j,i){return e.easeInOutQuad(g,h,f,j,i)},expoIn:function(g,h,f,j,i){return e.easeInExpo(g,h,f,j,i)},expoOut:function(g,h,f,j,i){return e.easeOutExpo(g,h,f,j,i)},expoInOut:function(g,h,f,j,i){return e.easeInOutExpo(g,h,f,j,i)},bounceIn:function(g,h,f,j,i){return e.easeInBounce(g,h,f,j,i)},bounceOut:function(g,h,f,j,i){return e.easeOutBounce(g,h,f,j,i)},bounceInOut:function(g,h,f,j,i){return e.easeInOutBounce(g,h,f,j,i)},elasIn:function(g,h,f,j,i){return e.easeInElastic(g,h,f,j,i)},elasOut:function(g,h,f,j,i){return e.easeOutElastic(g,h,f,j,i)},elasInOut:function(g,h,f,j,i){return e.easeInOutElastic(g,h,f,j,i)},backIn:function(g,h,f,j,i){return e.easeInBack(g,h,f,j,i)},backOut:function(g,h,f,j,i){return e.easeOutBack(g,h,f,j,i)},backInOut:function(g,h,f,j,i){return e.easeInOutBack(g,h,f,j,i)}};d.easing=e;if(jQuery){jQuery.extend(jQuery.easing,e)}return d});define("Tween",["require","exports","module","Class","Ticker","Ease"],function(c,b,d){var a=c("Class"),f=c("Ticker"),e=c("Ease");var g=a.extend({pos:-1,start:null,end:null,_target:null,_options:null,_easing:null,_detlaTime:-1,_finish:false,init:function(l,k,h){this.pos=0;this.start={};for(var j in k){this.start[j]=this._clone(l.style(j))}this.end=k;this._target=l;this._options=h;this._easing=e.get(h.easing);this._detlaTime=0;g._tweens.push(this)},remove:function(){var h=this._target;h.data("fx_queue",null);h.data("fx_cur_tween",null)},update:function(o){var l=this._target,q=this._options,n=this._easing,h=q.duration,m=this._detlaTime/h;if(m>=1){this.pos=1;this._finish=true}else{if(n){this.pos=n(m,h*m,0,1,h)}else{this._detlaTime+=o;return}}for(var j in this.end){l._stepStyle(j,{pos:this.pos,start:this.start[j],end:this.end[j]})}q.step&&q.step();if(this._finish){q.callback&&q.callback();var k=l.data("fx_queue");if(k.length===0){l.data("fx_queue",null);l.data("fx_cur_tween",null)}else{var p=k.shift();p()}}else{this._detlaTime+=o}},_clone:function(j){var h;if(typeof(j)==="object"){h={};for(var k in j){h[k]=this._clone(j[k])}}else{h=j}return h}});g._tweens=[];g.update=function(m){var k=g._tweens;for(var j=k.length-1;j>=0;j--){if(k[j]._finish){k.splice(j,1)}}for(var j=0,h=k.length;j<h;j++){k[j].update(m)}};g.option=function(h,j,i){if(h&&h.duration){return h}else{return{duration:h||300,easing:j||"linear",callback:i}}};g.queue=function(m,k,l,o,n){var h=m.data("fx_queue"),j=g.option(l,o,n);if(typeof(k)==="number"){j.duration=k;j.easing="none";k={}}var i=function(){m.data("fx_cur_tween",new g(m,k,j))};if(h){h.push(i)}else{i();m.data("fx_queue",[])}};return g});define("DisplayObject",["require","exports","module","EventDispatcher","PrivateData","StyleSheet","Matrix2D","Tween"],function(c,e,a){var b=c("EventDispatcher"),d=c("PrivateData"),g=c("StyleSheet"),i=c("Matrix2D"),h=c("Tween");var j=!!document.createElement("canvas").getContext;var f=b.extend({x:0,y:0,width:0,height:0,visible:true,overflow:"visible",alpha:1,shadow:null,transform:null,transform3d:null,parent:null,elem:null,elemStyle:null,renderMode:0,blendMode:"source-over",mouseEnabled:true,_tagName:"div",_children:null,_matrix2d:null,_privateData:null,init:function(l){if(l.renderMode){this.renderMode=l.renderMode}if(this.renderMode===0){var m=l.elem;if(m&&typeof(m)==="string"){if(m.match(/^\#[A-Za-z0-9]+$/)){m=document.getElementById(m)}else{if(m.match(/^\.[A-Za-z0-9]+$/)){m=document.getElementsByClassName(m)[0]}else{m=document.querySelector(m)}}}this.elem=m||document.createElement(this._tagName);this.elem.displayObj=this;this.elemStyle=this.elem.style;if(jQuery){this.$=jQuery(this.elem)}}else{if(l.blendMode){this.blendMode=l.blendMode}}this._children=[];this._matrix2d=new i();this._privateData=new d();for(var k in l){if(g.has(k)){this.style(k,l[k])}}if(!this.transform){g.init(this,"transform")}},addChild:function(k){if(k.parent){k.parent.removeChild(k)}k.parent=this;if(k.renderMode===0){if(this.elem){this.elem.appendChild(k.elem)}}else{this._children.push(k)}},removeChild:function(m){if(m.parent===this){m.parent=null;if(m.renderMode===0){if(this.elem){this.elem.removeChild(m.elem)}}else{var l=this._children;for(var k=l.length-1;k>=0;k--){if(l[k]===m){l.splice(k,1);break}}}}},removeAllChildren:function(){var l,n;if(this.renderMode===0){var m=this.elem;l=m.children;while(l.length){n=l[l.length-1];if(n.displayObj){n.displayObj.parent=null}m.removeChild(n)}}else{var k=-1;l=this._children;while(l.length){k=l.length-1;n=l[k];n.parent=null;l.splice(k,1)}}},eachChildren:function(o){var n=this.renderMode===0?this.elem.children:this._children,p;for(var m=0,k=n.length;m<k;m++){p=this.renderMode===0?n[m].displayObj:n[m];if(p){o(p,m)}}},style:function(k,l){if(l===undefined){return g.get(this,k)}else{g.set(this,k,l)}},data:function(k,l){if(l===undefined){return this._privateData.get(k)}else{this._privateData.set(k,l)}},to:function(k,l,n,m){h.queue(this,k,l,n,m);return this},draw:function(m){if(!this._children.length){return}if(this.overflow==="hidden"){}var o=this._children,p;for(var n=0,k=o.length;n<k;n++){p=o[n];if(p.visible){m.save();p._drawCanvas(m);m.restore()}}},cache:function(){if(j){var k=document.createElement("canvas");k.width=this.width;k.height=this.height;this.draw(k.getContext("2d"));this._cacheCanvas=k}},uncache:function(){this._cacheCanvas=null},_stepStyle:function(k,l){g.step(this,k,l)},_updateTransform:function(k,l){if(k==="scale"){this.transform.scale=this.transform.scaleX=this.transform.scaleY=l}else{if(k in this.transform){this.transform[k]=l}}},_updateTransform3D:function(k,l){if(k in this.transform3d){this.transform3d[k]=l}},_mergeTransformText:function(l){var k="";if(l.translateX!==0||l.translateY!==0){k+="translate("+l.translateX+"px,"+l.translateY+"px)"}if(l.rotate!==0){k+=" rotate("+l.rotate+"deg)"}if(l.scaleX!==1||l.scaleY!==1){k+=" scale("+l.scaleX+","+l.scaleY+")"}if(l.skewX!==0||l.skewY!==0){k+=" skew("+l.skewX+"deg,"+l.skewY+"deg)"}return k},_mergeTransform3DText:function(l){var k="";if(l.perspective!==0){k+="perspective("+l.perspective+"px)"}if(l.translateX!==0||l.translateY!==0||l.translateZ!==0){k+=" translate3d("+l.translateX+"px,"+l.translateY+"px,"+l.translateZ+"px)"}if(l.rotateX!==0){k+=" rotateX("+l.rotateX+"deg)"}if(l.rotateY!==0){k+=" rotateY("+l.rotateY+"deg)"}if(l.rotateZ!==0){k+=" rotateZ("+l.rotateZ+"deg)"}if(l.scaleX!==1||l.scaleY!==1||l.scaleZ!==1){k+=" scale3d("+l.scaleX+","+l.scaleY+","+l.scaleZ+")"}return k},_drawCanvas:function(k){this._updateCanvasContext(k);if(this._cacheCanvas){k.drawImage(this._cacheCanvas,0,0)}else{this.draw(k)}},_updateCanvasContext:function(l){var n=this._updateMatrix2D(),m=this._getAnchorX(),k=this._getAnchorY(),o=this.shadow;if(m===0&&k===0){l.transform(n.a,n.b,n.c,n.d,n.tx,n.ty)}else{l.transform(n.a,n.b,n.c,n.d,n.tx+m,n.ty+k);l.transform(1,0,0,1,-m,-k)}l.globalAlpha*=this.alpha;l.globalCompositeOperation=this.blendMode;if(o){l.shadowOffsetX=o.offsetX;l.shadowOffsetY=o.offsetY;l.shadowBlur=o.blur;l.shadowColor=o.color}},_getAnchorX:function(){return this.width*this.transform.originX},_getAnchorY:function(){return this.height*this.transform.originY},_updateMatrix2D:function(l){var k=this._matrix2d.identity(),m=this.transform;if(l){return k.rotate(-m.rotate%360*i.DEG_TO_RAD).scale(m.scaleX,m.scaleY)}else{return k.appendTransform(this.x+m.translateX,this.y+m.translateY,m.scaleX,m.scaleY,m.rotate,m.skewX,m.skewY,0,0)}}});return f});define("Container",["require","exports","module","DisplayObject"],function(d,c,e){var b=d("DisplayObject");var a=b.extend({init:function(f){this._super(f);this._initEvents()},_initEvents:function(){var n=this,g=this.elem,k,m,j,h;var l=function(o){o.preventDefault();k=n._hitTest(o.target);n._triggerEvent("mousedown",k,o.clientX,o.clientY);m=false;j=o.clientX;h=o.clientY},i=function(o){o.preventDefault();n._triggerEvent("mouseup",k,o.clientX,o.clientY);if(!m){n._triggerEvent("click",k,o.clientX,o.clientY)}k=null},f=function(o){o.preventDefault();n._triggerEvent("mousemove",k,o.clientX,o.clientY);if(!m&&(Math.abs(o.clientX-j)>3||Math.abs(o.clientY-h)>3)){m=true}};if(!g.addEventListener){g.addEventListener=g.attachEvent}g.addEventListener("mousedown",l);g.addEventListener("mouseup",i);g.addEventListener("mousemove",f)},_triggerEvent:function(g,j,i,h){if(j){var f={type:g,target:j,clientX:i,clientY:h};while(j){j.trigger(f);j=j.parent}}},_hitTest:function(f){var g;while(!g&&f&&f!==this.elem){g=f.displayObj;f=f.parentNode}return g}});return a});define("Canvas",["require","exports","module","DisplayObject","Matrix2D"],function(d,c,e){var b=d("DisplayObject"),f=d("Matrix2D");var a=b.extend({_tagName:"canvas",_ctx:null,_useElemSize:true,init:function(g){this._super(g);this._initEvents();this._ctx=this.elem.getContext("2d")},removeAllChildren:function(){var h=this._children,g,i;while(h.length){g=h.length-1;i=h[g];i.parent=null;h.splice(g,1)}},eachChildren:function(k){var j=this._children;for(var h=0,g=j.length;h<g;h++){k(j[h],h)}},update:function(){var g=this._ctx;g.clearRect(0,0,this.width,this.height);this.draw(g)},_initEvents:function(){var o=this,h=this.elem,l,n,k,i;var m=function(p){p.preventDefault();l=o._hitTest(o._children,p.offsetX,p.offsetY);o._triggerEvent("mousedown",l,p.offsetX,p.offsetY);n=false;k=p.offsetX;i=p.offsetY},j=function(p){p.preventDefault();o._triggerEvent("mouseup",l,p.offsetX,p.offsetY);if(!n){o._triggerEvent("click",l,p.offsetX,p.offsetY)}l=null},g=function(p){p.preventDefault();o._triggerEvent("mousemove",l,p.offsetX,p.offsetY);if(!n&&(Math.abs(p.offsetX-k)>3||Math.abs(p.offsetY-i)>3)){n=true}};if(!h.addEventListener){h.addEventListener=h.attachEvent}h.addEventListener("mousedown",m);h.addEventListener("mouseup",j);h.addEventListener("mouseout",j);h.addEventListener("mousemove",g)},_triggerEvent:function(h,k,j,i){if(k){var g={type:h,target:k,clientX:j,clientY:i};while(k){k.trigger(g);k=k.parent}}},_hitTest:function(k,j,g){var l;for(var h=k.length-1;h>=0;h--){l=k[h];if(l._children.length){l=this._hitTest(l._children,j,g);if(l){return l}}else{if(this._hitTestMatrix(l,j,g)){return l}}}return null},_hitTestMatrix:function(k,o,m){var v=new f(),s=[],B,A,j;while(k&&k!==this){s.unshift(k);k=k.parent}v.append(1,0,0,1,-o,-m);for(var p=0,n=s.length;p<n;p++){k=s[p];j=k._matrix2d;B=k._getAnchorX();A=k._getAnchorY();if(B===0&&A===0){v.append(j.a,j.b,j.c,j.d,j.tx,j.ty)}else{v.append(j.a,j.b,j.c,j.d,j.tx+B,j.ty+A);v.append(1,0,0,1,-B,-A)}}v.invert();var u=v.tx,t=v.ty,g=k.radius,z=k.width,q=k.height;if(g){return g*g>=(u-g)*(u-g)+(t-g)*(t-g)}else{if(z&&q){return u>=0&&u<=z&&t>=0&&t<=q}}return false}});return a});define("Graphics2D",["require","exports","module"],function(b,a,c){var d=function(){};d.get=function(e){return d.shapes[e]};d.commonDrawShape=function(e,g,f){if(g){e.fill()}if(f){e.stroke()}};d.shapes={rect:{type:"rect",init:function(e){this.style("fill",e.fill);this.style("stroke",e.stroke);this.style("lineWidth",e.lineWidth);this.style("size",e)},draw:function(e){var g=this.fillStyle(e),f=this.strokeStyle(e);if(g){e.fillRect(0,0,this.width,this.height)}if(f){e.strokeRect(0,0,this.width,this.height)}}},circle:{type:"circle",init:function(e){this.style("fill",e.fill);this.style("stroke",e.stroke);this.style("lineWidth",e.lineWidth);this.style("radius",e.radius);this.style("angle",e.angle===undefined?360:e.angle)},draw:function(f){var h=this.fillStyle(f),g=this.strokeStyle(f),e=this.radius;f.beginPath();f.arc(e,e,e,0,Math.PI*2*(this.angle/360),0);if(this.angle<360){f.lineTo(e,e)}f.closePath();d.commonDrawShape(f,h,g)}},ellipse:{type:"ellipse",init:function(e){this.style("fill",e.fill);this.style("stroke",e.stroke);this.style("lineWidth",e.lineWidth);this.style("radiusXY",e)},draw:function(p){var j=this.fillStyle(p),m=this.strokeStyle(p),g=0.5522848,f=this.radiusX,e=this.radiusY,n=f*g,l=e*g,o=f*2,i=e*2;p.beginPath();p.moveTo(0,e);p.bezierCurveTo(0,e-l,f-n,0,f,0);p.bezierCurveTo(f+n,0,o,e-l,o,e);p.bezierCurveTo(o,e+l,f+n,i,f,i);p.bezierCurveTo(f-n,i,0,e+l,0,e);p.closePath();d.commonDrawShape(p,j,m)}},line:{type:"line",init:function(e){this.style("stroke",e.stroke);this.style("lineWidth",e.lineWidth);this.path=e.path},draw:function(g){var j=this.strokeStyle(g),k=this.path,f;if(!j){return}g.beginPath();if(k.length>1){for(var h=0,e=k.length;h<e;h++){f=k[h];if(h===0){g.moveTo(f[0],f[1])}else{if(f.length===2){g.lineTo(f[0],f[1])}else{if(f.length===4){g.quadraticCurveTo(f[0],f[1],f[2],f[3])}else{if(f.length===6){g.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5])}}}}}}g.stroke()}},ploygon:{type:"ploygon",init:function(e){this.style("fill",e.fill);this.style("stroke",e.stroke);this.points=e.points},draw:function(g){var m=this.fillStyle(g),k=this.strokeStyle(g),j=this.points,e;g.beginPath();if(j.length>2){for(var h=0,f=j.length;h<f;h++){e=j[h];if(h===0){g.moveTo(e[0],e[1])}else{g.lineTo(e[0],e[1])}}}g.closePath();d.commonDrawShape(g,m,k)}},polyStar:{type:"polyStar",init:function(e){this.style("fill",e.fill);this.style("stroke",e.stroke);this.style("radius",e.radius);this.sides=e.sides;this.cohesion=e.cohesion},draw:function(o){var h=this.fillStyle(o),j=this.strokeStyle(o),k=this.radius,e=this.sides,n=this.cohesion,f,m,l;o.beginPath();for(var g=0;g<e;g++){f=g/e*Math.PI*2;m=(1-Math.sin(f))*k;l=(1-Math.cos(f))*k;if(g===0){o.moveTo(m,l)}else{o.lineTo(m,l)}if(n){f+=Math.PI/e;m=(1-Math.sin(f)*n)*k;l=(1-Math.cos(f)*n)*k;o.lineTo(m,l)}}o.closePath();d.commonDrawShape(o,h,j)}},roundRect:{type:"roundRect",init:function(){},draw:function(){}},lines:{type:"lines",init:function(e){this.style("stroke",e.stroke);this.paths=e.paths},draw:function(m){var k=this.strokeStyle(m),n=this.paths,o,p;if(!k){return}m.beginPath();for(var f=0,g=n.length;f<g;f++){o=n[f];if(o.length>1){for(var h=0,e=o.length;h<e;h++){p=o[h];if(h===0){m.moveTo(p[0],p[1])}else{if(p.length===2){m.lineTo(p[0],p[1])}else{if(p.length===4){m.quadraticCurveTo(p[0],p[1],p[2],p[3])}else{if(p.length===6){m.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5])}}}}}}}m.stroke()}}};return d});define("Shape",["require","exports","module","DisplayObject","Graphics2D"],function(c,b,d){var a=c("DisplayObject"),e=c("Graphics2D");var f=a.extend({graphics2D:null,snapToPixel:true,init:function(g){this._super(g);this._initGraphics(g.graphics)},draw:function(g){if(this.graphics2D){this.graphics2D.draw.call(this,g)}},fillStyle:function(g){var h=this.fillColor,l=this.fillGradient,k=this.fillImage,i;if(k){if(k.complete){i=g.createPattern(k,"no-repeat")}}else{if(l){switch(l[0]){case"top":case"bottom":i=g.createLinearGradient(0,0,0,this.height);break;case"left":case"right":i=g.createLinearGradient(0,0,this.width,0);break;case"left top":i=g.createLinearGradient(0,0,this.width,this.height);break;case"right top":i=g.createLinearGradient(this.width,0,0,this.height);break;case"center":var m=this.width/2,j=this.height/2;i=g.createRadialGradient(m,j,0,m,j,m>j?m:j);break}i.addColorStop(0,l[1]);i.addColorStop(1,l[2])}else{i=h}}if(i){g.fillStyle=i;return true}return false},strokeStyle:function(g){var i=this.strokeColor;if(i){g.strokeStyle=i;g.lineWidth=this.lineWidth||1;g.lineCap=this.lineCap||"round";g.lineJoin=this.lineJoin||"round";if(this.snapToPixel&&g.lineWidth===1){var h=this._matrix2d;g.translate(h.tx>=0?0.5:-0.5,h.ty>=0?0.5:-0.5)}return true}return false},_initGraphics:function(h){var i=h.type,g=i?e.get(i):h;if(g&&g.init&&g.draw){this.graphics2D=g;g.init.call(this,h)}}});return f});define("Filter",["require","exports","module"],function(c,b,d){var a=function(){};a.get=function(h,f,g){var e=a.filters[f];if(e){return e(h,g)}};a.filters={grayscale:function(j,n){var g=document.createElement("canvas");g.width=j.width;g.height=j.height;var o=g.getContext("2d");o.drawImage(j,0,0);var e=o.getImageData(0,0,g.width,g.height),k=e.data,f;for(var m=0,h=k.length;m<h;m+=4){f=(k[m]+k[m+1]+k[m+2])/3;k[m]=k[m+1]=k[m+2]=f}o.putImageData(e,0,0);return g},brightness:function(h,g){var f=document.createElement("canvas");f.width=h.width;f.height=h.height;var e=f.getContext("2d");e.drawImage(h,0,0);e.globalCompositeOperation="lighter";e.drawImage(h,0,0);return f},impression:function(k,o){var g=document.createElement("canvas");g.width=k.width;g.height=k.height;var q=g.getContext("2d");q.drawImage(k,0,0);var e=q.getImageData(0,0,g.width,g.height),n=e.data,p=["1","0"],j=[];for(var m=0,h=n.length;m<h;m+=16){if(Math.floor(m/4/g.width)%4){continue}j.push(["rgba("+n[m]+","+n[m+1]+","+n[m+2]+","+n[m+3]+")",p[Math.floor(Math.random()*2)],m/4%g.width,Math.floor(m/4/g.width)])}q.clearRect(0,0,g.width,g.height);q.font="40px Microsoft Yahei";q.textBaseline="middle";q.textAlign="center";q.globalAlpha=0.25;var m,f;while(j.length){m=Math.floor(Math.random()*j.length);f=j[m];q.fillStyle=f[0];q.fillText(f[1],f[2],f[3]);j.splice(m,1)}return g},rilievo:function(j,q){var g=document.createElement("canvas");g.width=j.width;g.height=j.height;var r=g.getContext("2d");r.drawImage(j,0,0);var e=r.getImageData(0,0,g.width,g.height),m=e.data,n,p,f,o=function(i){if(i<0){i=0}else{if(i>255){i=255}}return i};for(var k=0,h=m.length;k<h;k+=4){n=k+4;if(m[n]===undefined){n=k}p=Math.floor((m[n]+m[n+1]+m[n+2])-(m[k]+m[k+1]+m[k+2]));f=o(p+128);m[k]=m[k+1]=m[k+2]=f}r.putImageData(e,0,0);return g}};return a});define("Bitmap",["require","exports","module","DisplayObject","Filter"],function(d,e,b){var f=d("DisplayObject"),a=d("Filter");var i=!!document.createElement("canvas").getContext,c=document.createElement("div").style,g=c.webkitTransform===""?"webkit":c.WebkitTransform===""?"Webkit":c.msTransform===""?"ms":c.MozTransform===""?"Moz":"ct";var h=f.extend({_image:null,_sourceRect:null,_sourceCanvas:null,_scaleToFit:false,init:function(j){this._super(j);this._initImage(j)},_initImage:function(j){var k=j.image;if(j.sourceRect){this._sourceRect=j.sourceRect;this.style("size",{width:this._sourceRect[2],height:this._sourceRect[3]})}else{if(j.scaleToFit){this._scaleToFit=j.scaleToFit}}if(this.renderMode===0){this.elemStyle.backgroundImage="url("+k+")";this.elemStyle.backgroundRepeat="no-repeat";if(this._sourceRect){this.elemStyle.backgroundPosition="-"+this._sourceRect[0]+"px -"+this._sourceRect[1]+"px"}else{if(this._scaleToFit){this.elemStyle.backgroundSize="100% 100%"}}}else{if(this.renderMode===1){if(typeof(k)==="string"){this._image=new Image();this._image.src=k}else{this._image=k}}}},draw:function(j){if(this._image.complete){var k=this._sourceCanvas||this._image;if(this._sourceRect){j.drawImage(k,this._sourceRect[0],this._sourceRect[1],this.width,this.height,0,0,this.width,this.height)}else{if(this._scaleToFit){j.drawImage(k,0,0,k.width,k.height,0,0,this.width,this.height)}else{j.drawImage(k,0,0,this.width,this.height,0,0,this.width,this.height)}}}},applyFilter:function(k,l){if(this.renderMode===0){this.elemStyle[g+"Filter"]=k?(k+"("+l+")"):""}else{if(this.renderMode===1){var m=this._image;if(m.complete){this._sourceCanvas=(k&&i)?a.get(m,k,l):null}else{var j=this;if(!m.addEventListener){m.addEventListener=m.attachEvent}m.addEventListener("load",function(){j.applyFilter(k,l)})}}}}});return h});define("Text",["require","exports","module","DisplayObject"],function(c,b,d){var a=c("DisplayObject");var e=a.extend({text:null,init:function(f){this._super(f);this._setText(f)},draw:function(f){f.font=this.font;f.textAlign=this.textAlign;f.textBaseline=this.textBaseline;f.fillStyle=this.fillColor;f.fillText(this.text,0,0)},_setText:function(f){this.text=f.text||"";this.font=f.font||"20px Microsoft Yahei";this.textAlign=f.textAlign||"left";this.textBaseline=f.textBaseline||"top";this.fillColor=f.fill||"black";if(!this.renderMode){this.elem.innerHTML=this.text}}});return e});define("Timeline",["require","exports","module","Class","Ease"],function(c,b,d){var a=c("Class"),e=c("Ease");var f=a.extend({_paused:false,_finish:false,_target:null,_targets:null,_deltaTime:-1,init:function(){this._targets=[];this._deltaTime=0},setNowTime:function(g){this._deltaTime=g},has:function(k){var j=this._targets,g=j.length;for(var h=g-1;h>=0;h--){if(j[h]===k){return true}}return false},get:function(g){if(!this.has(g)){this.removeKeyframes(g);this._targets.push(g)}this._target=g;return this},addKeyframe:function(q,k,p,u){var o=this._target,n=o.data("tl_queue"),g=o.data("tl_start");if(!n){n=[];g={};o.data("tl_queue",n);o.data("tl_start",g)}for(var m in q){g[m]=this._clone(o.style(m))}n.push([q,k,p||"linear",u]);n.sort(function(l,i){return l[1]-i[1]});var s=[],h,t=0,r=0;for(var m=0,j=n.length;m<j;m++){h=n[m];if(m===0){s.push({from:h[1]===0?-1:0,to:h[1],start:g,end:h[0],ease:h[2],cb:h[3]})}else{s.push({from:t,to:h[1],start:g,end:h[0],ease:h[2],cb:h[3]})}t=h[1];g=this._merge(g,h[0])}o.data("tl_steps",s);return this},removeKeyframes:function(g){g.data("tl_queue",null);g.data("tl_start",null);g.data("tl_steps",null);g.data("tl_cur_step",null)},update:function(x){if(this._paused){return}var m=this._deltaTime,y=this._targets,z,v,p,k,g,h,q,o,n,t=0;for(var s=0,w=y.length;s<w;s++){z=y[s];v=z.data("tl_steps");k=z.data("tl_cur_step");n=v[v.length-1].to;if(k){if(m>=k.from&&m<=k.end){p=k}else{k.cb&&k.cb()}}if(!p){for(var u=0,r=v.length;u<r;u++){if(m>=v[u].from&&m<=v[u].to){p=v[u];z.data("tl_cur_step",p);z.style(p.start);break}}}if(p){g=p.to-p.from;h=(m-p.from)/g;q=e.get(p.ease);if(q){o=q(h,g*h,0,1,g);for(var A in p.end){z._stepStyle(A,{pos:o,start:p.start[A],end:p.end[A]})}}p=null}if(t<n){t=n}}if(m>=t){this._deltaTime=0}else{this._deltaTime+=x}},_clone:function(h){var g;if(typeof(h)==="object"){g={};for(var j in h){g[j]=this._clone(h[j])}}else{g=h}return g},_merge:function(h,m){var g=this._clone(h);if(typeof(m)==="object"){for(var l in m){if(typeof(g[l])==="object"&&typeof(m[l])==="object"){for(var k in m[l]){g[l][k]=m[l][k]}}else{g[l]=m[l]}}}else{g=m}return g}});return f});define("Sprite",["require","exports","module","DisplayObject"],function(d,b,e){var a=d("DisplayObject");var c=a.extend({animationName:"",_paused:true,_images:null,_imageIndex:-1,_animations:null,_currentAnimation:null,_frames:null,_currentFrame:null,_deltaTime:-1,_frameIndex:-1,init:function(f){this._super(f);this._initSpriteSheet(f.spriteSheet)},play:function(f){var g=this._animations[f];if(g){this.animationName=f;this._currentAnimation=g;this._deltaTime=0;this._frameIndex=0;this._paused=false}},gotoAndStop:function(f){var g=this._frames[f];this._playFrame(g);this._paused=true},update:function(n){if(this._paused||!this._currentAnimation){return}var h=this._currentAnimation,f=h[0],i=h[1],k=h[2],j=h[3];var m,l;if(j>0){m=this._deltaTime/j,l=Math.floor((i-f+1)*m+f);this._deltaTime+=n}else{l=this._frameIndex+f;this._frameIndex+=1}var g=this._frames[l>i?i:l];this._playFrame(g);if(j>0?(this._deltaTime>j):(this._frameIndex>i-f)){k=(this.animationEnd&&this.animationEnd())||k;if(k){this.play(k)}else{this._deltaTime=0;this._frameIndex=0}}},draw:function(f){var h=this._currentFrame;if(h){var g=this._images[h[4]];if(g&&g.complete){f.drawImage(g,h[0],h[1],h[2],h[3],h[5],h[6],h[2],h[3])}}},_initSpriteSheet:function(f){this._initImages(f.images);this._initFrames(f.frames);this._animations=f.animations},_initImages:function(f){this._images=[];var j;for(var h=0,g=f.length;h<g;h++){if(this.renderMode){j=new Image();j.src=f[h]}else{j=f[h]}this._images.push(j)}},_initFrames:function(o,f){if(!f){this._frames=[]}if(o instanceof Array){for(var n=0,g=o.length;n<g;n++){if(o[n] instanceof Array){this._frames.push(o[n])}else{this._initFrames(o[n],true)}}}else{for(var k=0,m=o.rows;k<m;k++){for(var n=0,h=o.cols;n<h;n++){if((k*o.cols+n)===o.num){break}else{this._frames.push([n*o.width,k*o.height,o.width,o.height,o.img||0,0,0])}}}}},_playFrame:function(f){if(this.renderMode){this._currentFrame=f}else{if(this.width!==f[2]||this.height!==f[3]){this.style("size",{width:f[2],height:f[3]})}if(this._imageIndex!==f[4]){this.elemStyle.backgroundImage="url("+this._images[f[4]]+")";this.elemStyle.backgroundRepeat="no-repeat";this._imageIndex=f[4]}this.elemStyle.backgroundPosition="-"+f[0]+"px -"+f[1]+"px"}}});return c});define("ParticleEmitter",["require","exports","module","Shape","Bitmap"],function(c,b,e){var f=c("Shape"),d=c("Bitmap");var a=function(){};a.get=function(g){return a.particles[g]};a.particles={rain:{type:"rain",init:function(m){var k=m.width,g=m.height,m;this.particles=[];this.data("fall_width",k);this.data("fall_height",g);for(var j=0,h=m.num||60;j<h;j++){m=new f({renderMode:this.renderMode,pos:{x:Math.floor(Math.random()*k),y:-Math.floor(Math.random()*g)},graphics:{type:"rect",width:j%6===0?3:2,height:j%3===0?24:16,fill:"#FFF"},alpha:Math.floor(Math.random()*3)/10+0.2});m.data("fall_speed",Math.floor(Math.random()*25)/100+0.25);this.particles.push(m);this.addChild(m)}},update:function(o){var q=this.particles,g=this.data("fall_width"),p=this.data("fall_height"),m,h,n;for(var k=0,j=q.length;k<j;k++){m=q[k];h=m.data("fall_speed")*o;n=m.y;if(n>p){n=-Math.floor(Math.random()*p)}m.style("y",n+h)}}},snow:{type:"snow",init:function(n){var g=n.width,q=n.height,j,o,p,k,n;if(n.image){j=new Image();j.src=n.image}this.particles=[];this.data("fall_width",g);this.data("fall_height",q);for(var m=0,h=n.num||60;m<h;m++){p={x:Math.floor(Math.random()*g),y:-Math.floor(Math.random()*q)};o=Math.floor(Math.random()*8)+12;k=Math.floor(Math.random()*4)/10+0.6;n=j?new d({renderMode:this.renderMode,pos:p,width:o,height:o,scaleToFit:true,image:j,alpha:k}):new f({renderMode:this.renderMode,pos:p,alpha:Math.floor(Math.random()*5)/10+0.3,graphics:{type:"circle",radius:Math.floor(Math.random()*3)+4,fill:"#FFF",angle:360}});n.data("fall_x",n.x);n.data("fall_width",Math.floor(Math.random()*10+10));n.data("fall_speed",Math.floor(Math.random()*15+15)/1000);this.particles.push(n);this.addChild(n)}},update:function(p){var r=this.particles,g=this.data("fall_width"),q=this.data("fall_height"),m,h,o,n;for(var k=0,j=r.length;k<j;k++){m=r[k];h=m.data("fall_speed")*p;o=m.data("fall_x");n=m.y;if(n>q){m.fallTime=0;n=-Math.floor(Math.random()*q)}m.style("pos",{x:o+Math.sin(n/50)*m.data("fall_width"),y:n+h})}}}};return a});define("ParticleSystem",["require","exports","module","DisplayObject","ParticleEmitter"],function(e,d,f){var c=e("DisplayObject"),b=e("ParticleEmitter");var a=c.extend({emitter:null,particles:null,init:function(g){this._super(g);this._initParticle(g.particle)},update:function(g){if(this.emitter){this.emitter.update.call(this,g)}},_initParticle:function(i){var g=i.type,h=g?b.get(g):i;if(h&&h.init&&h.update){this.emitter=h;h.init.call(this,i)}}});return a});define("BoneAnimation",["require","exports","module","DisplayObject","Timeline","Bitmap"],function(d,b,f){var a=d("DisplayObject"),g=d("Timeline"),e=d("Bitmap");var c=a.extend({animationName:"",_paused:true,_bones:null,_animations:null,_currentAnimation:null,_timeline:null,init:function(h){this._super(h);this._initBones(h)},play:function(h){var i=this._animations[h];if(i){this.animationName=h;this._currentAnimation=i;this._timeline=this._initTimeline(i);this._paused=false}},update:function(h){if(this._paused||!this._currentAnimation){return}this._timeline.update(h)},_initBones:function(n){this._bones={};this._animations={};var h=n.bones,p=n.animations,o,m;for(var k=0,j=h.length;k<j;k++){o=h[k];if(o.image){m=new e({renderMode:this.renderMode,x:0,y:0,width:o.width,height:o.height,image:o.image})}else{m=new a({renderMode:this.renderMode,x:0,y:0,width:o.width,height:o.height})}if(!o.parent){this.addChild(m)}this._bones[o.tag]=m}for(var k=0,j=h.length;k<j;k++){o=h[k];if(o.parent){this._bones[o.parent].addChild(this._bones[o.tag])}}for(var k in p){this._animations[k]=p[k]}},_initTimeline:function(m){var t=new g(),p,s,r,h;for(var n=0,q=m.length;n<q;n++){p=m[n];s=this._bones[p.tag];r=p.frames;t.get(s);for(var o=0,k=r.length;o<k;o++){h=r[o];t.addKeyframe(h,h.time)}}return t}});return c});define("cartoon",["require","exports","module","Class","Ticker","DisplayObject","Container","Canvas","Shape","Bitmap","Text","Tween","Timeline","Sprite","ParticleSystem","BoneAnimation"],function(c,b,d){var a={Class:c("Class"),Ticker:c("Ticker"),DisplayObject:c("DisplayObject"),Container:c("Container"),Canvas:c("Canvas"),Shape:c("Shape"),Bitmap:c("Bitmap"),Text:c("Text"),Tween:c("Tween"),Timeline:c("Timeline"),Sprite:c("Sprite"),ParticleSystem:c("ParticleSystem"),BoneAnimation:c("BoneAnimation")};return a});